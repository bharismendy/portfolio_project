-- phpMyAdmin SQL Dump
-- version 4.6.6deb5
-- https://www.phpmyadmin.net/
--
-- Host: localhost:3306
-- Generation Time: Apr 23, 2019 at 09:13 AM
-- Server version: 5.7.25-0ubuntu0.18.04.2
-- PHP Version: 7.2.15-0ubuntu0.18.04.2

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `portfolio`
--

-- --------------------------------------------------------

--
-- Table structure for table `article_article`
--

CREATE TABLE `article_article` (
  `id` int(11) NOT NULL,
  `image` varchar(100) DEFAULT NULL,
  `date` date NOT NULL,
  `publish` tinyint(1) NOT NULL,
  `titre` varchar(100) NOT NULL,
  `resume` varchar(200) NOT NULL,
  `content` longtext,
  `categorie_id` int(11) DEFAULT NULL,
  `personne_id` int(11) NOT NULL,
  `is_pdf` tinyint(1) NOT NULL,
  `lien_pdf` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `article_article`
--

INSERT INTO `article_article` (`id`, `image`, `date`, `publish`, `titre`, `resume`, `content`, `categorie_id`, `personne_id`, `is_pdf`, `lien_pdf`) VALUES
(1, 'image_article/index.png', '2016-04-15', 1, 'Stage de seconde année BTS SIO SISR', 'Explication du déroulement de mon stage de seconde année BTS SIO SISR', '<center><strong>/!\\ cet article n\'est pas maintenu, la solution évoqué n\'est plus maintenu également /!\\</strong></center>\r\n<h2 class=\"font-headlines\"><span id=\"Description_generale\">Description générale</span></h2>\r\n<p>Durant ce stage j’avais pour projet à réaliser la mise en place d’un outils de télédéploiement d’application. Le stage&nbsp;a eu lieu durant ma seconde&nbsp;période de stage<br>\r\n(du lundi 4 Janvier au vendredi 12 Février&nbsp;) à la communauté de commune des Olonnes.</p>\r\n<h2 class=\"font-headlines\"><span id=\"Competence_mises_en_oeuvre\">Compétence mises en oeuvre</span></h2>\r\n<ul>\r\n<li>D1.1 – Analyse de la demande\r\n<ul>\r\n<li>A1.1.1 Analyse du cahier des charges d’un service à produire\r\n<ul>\r\n<li>J’ai analysé le cahier des charges des différents projet a mettre en place pour choisir la solutions qui me semblait la plus adapté</li>\r\n</ul>\r\n</li>\r\n<li>A1.1.2 Étude de l’impact de l’intégration d’un service sur le système informatique\r\n<ul>\r\n<li>j’ai étudié les mises à jour nécessaire via le cahiers des charges et des recherches personnelles sur internet</li>\r\n</ul>\r\n</li>\r\n<li>A1.1.3 Étude des exigences liées à la qualité attendue d’un service\r\n<ul>\r\n<li>Ma solutions de télédéploiement devait gêner le moins possible l’utilisateur d’où l’installation des mises à jour à l’arrêt et donc la modification d’UpdatEngine</li>\r\n<li>Le système de Filtrage Internet devait être totalement transparent pour l’utilisateur sauf au cas où il se trouverait en tort (ou téléchargeait un fichier malveillant</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D1.2 – Choix d’une solution\r\n<ul>\r\n<li>A1.2.1 Élaboration et présentation d’un dossier de choix de solution technique\r\n<ul>\r\n<li>J’ai rédigé un document montrant les différentes solutions de télédéploiement, j’ai ensuite a l’aide de ce document argumenté auprès de mon maître de stage le choix d’UpdatEngine</li>\r\n</ul>\r\n</li>\r\n<li>A1.2.2 Rédaction des spécifications techniques de la solution retenue\r\n<ul>\r\n<li>J’ai rédigé un document contenant les spécifications technique d’UpdatEngine et de WAPT</li>\r\n</ul>\r\n</li>\r\n<li>A1.2.3 Évaluation des risques liés à l’utilisation d’un service\r\n<ul>\r\n<li>J’ai étudié les différents risque lié au Télédéploiement d’applications (attaque Man in The Middle, récupération des remonté d’inventaire… j’ai ensuite éliminé toutes les solutions qui n’utilisait pas de chiffrage par clé asymétrique pour leur fonctionnement</li>\r\n</ul>\r\n</li>\r\n<li>A1.2.4 Détermination des tests nécessaires à la validation d’un service\r\n<ul>\r\n<li>Avec UpdatEngine j’ai réalisé toute une batterie de test qui m’on permit de me rendre compte que je devais changer le comportement du client pour éviter des installations corrompue (exécutions des installation à l’arrêt) j’ai répété ces test et j’en ai également dégager l’importance de la mise en place d’une GPO pour empêcher Windows d’arrêter les installations au moment de l’arrêt (Time out cf les documentations)</li>\r\n<li>Avec PfSense j’ai testé chaque type de blocage pour être sûr de leur efficacité</li>\r\n</ul>\r\n</li>\r\n<li>A1.2.5 Définition des niveaux d’habilitation associés à un service\r\n<ul>\r\n<li>j’ai mis en place, sous WAPT, un groupe pouvant utiliser le Self-service ce qui leur permet d’installer et de supprimer des logiciels de leur ordinateur ainsi qu’un compte administrateur pouvant gérer la console d’administration</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D1.3 – Mise en production d’un service\r\n<ul>\r\n<li>A1.3.1 Test d’intégration et d’acceptation d’un service\r\n<ul>\r\n<li>Les tests d’intégrations et d’acceptations d’un services on été mis en place au niveau du conservatoire sur 5 postes choisis en fonction de leur âge et du type d’utilisateur (professeur, élève et administratif) comme cela nous réunissions toutes les configurations logiciels et matériel possibles.</li>\r\n</ul>\r\n</li>\r\n<li>A1.3.2 Définition des éléments nécessaires à la continuité d’un service\r\n<ul>\r\n<li>J’ai catalogué les éléments de continuité du service, sachant que ce n’est pas du tout un service vital de la communauté de commune et que l’installations de la situations finale (WAPT) ne prend que très peu de temps (moins de 30 minutes) seul les paquets fabriquer par l’administrateur sont à sauvegarder.</li>\r\n</ul>\r\n</li>\r\n<li>A1.3.3 Accompagnement de la mise en place d’un nouveau service\r\n<ul>\r\n<li>j’ai aidé a la mise en place du service et j’ai informé les utilisateurs à propos de la solution (ce quel permet, comment annuler l’installation ….)</li>\r\n</ul>\r\n</li>\r\n<li>A1.3.4 Déploiement d’un service\r\n<ul>\r\n<li>J’ai déployer la solutions de Télédéploiement sur un total de 75 machines</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D1.4 – Travail en mode projet\r\n<ul>\r\n<li>A1.4.1 Participation à un projet\r\n<ul>\r\n<li>Durant ce stage j’ai participé à&nbsp;deux projets en discutant de ce dernier avec mon maître de stage ce qui ma permit de confronter nos idées et nos attentes de la solutions finale (en plus des attentes du cahiers des charges)</li>\r\n</ul>\r\n</li>\r\n<li>A1.4.2 Évaluation des indicateurs de suivi d’un projet et justification des écarts\r\n<ul>\r\n<li>j’avais mis en place un plan de gestion du projet (test , création de la documentation, déploiement sur un petit groupe, puis sur une grande partit des poste, et enfin sur tout le réseau) j’avais estimé le tout à 3 semaines (une pour les tests et deux pour le reste) mais j’ai mis 5 semaines du fait du nombre de bug rencontré (flash, libre office entre autre) et car j’ai changé de solution en cour de projet.</li>\r\n</ul>\r\n</li>\r\n<li>A1.4.3 Gestion des ressources\r\n<ul>\r\n<li>Jai du gérer des ressources humaines en effet pour mes tests et mes déploiement j’avais besoin de mon maître de stage, j’ai également du géré les ressources serveur, en effet ma solution de télédéploiement ne devait pas prendre trop de place sur le serveur de virtualisation j’ai donc du estimé les espaces disque nécéssaire.</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D2.1 – Exploitation des services\r\n<ul>\r\n<li>A2.1.1 Accompagnement des utilisateurs dans la prise en main d’un service\r\n<ul>\r\n<li>j’ai montré et expliqué le fonctionnement du système de télédéploiement au utilisateur (comment forcer l’installations des mises à jour, comment interrompre les mises à jour et leur expliquer ce qu’était la fenêtre qui apparaissait à l’extinction de la machine)</li>\r\n</ul>\r\n</li>\r\n<li>A2.1.2 Évaluation et maintien de la qualité d’un service\r\n<ul>\r\n<li>J’ai du estimer la qualité de service attendu par les utilisateurs (comment annuler les installations en cas de reboot rapide)</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D2.2 – Gestion des incidents et des demandes d’assistance\r\n<ul>\r\n<li>A2.2.1 Suivi et résolution d’incidents\r\n<ul>\r\n<li>Quand le service de Télédéploiement était en service un pc n’avait pas pris en compte la GPO et avait mal installé Libre Office, il y a eu un suivit de l’incident via ticket GLPI et dépannage sur le pc client</li>\r\n</ul>\r\n</li>\r\n<li>A2.2.2 Suivi et réponse à des demandes d’assistance\r\n<ul>\r\n<li>J’ai été assister les responsables du cool café car leur clavier sans fil ne fonctionnait plus ainsi que le tactile de la tablette qui ne fonctionnait plus. il y a eu un suivi de la demande d’assistance via un ticket GLPI de l’émission de la demande d’assistance jusqu’à la résolutions des différents problèmes</li>\r\n</ul>\r\n</li>\r\n<li>A2.2.3&nbsp;&nbsp;Réponse à une interruption de service\r\n<ul>\r\n<li>En réponse a une interruption de service j’ai expliqué le Plan de reprise d’activité dans la documentation de WAPT (récupération et installation des clés …) j’ai ainsi préparé le plan de reprise d’activité j’ai également formé l’équipe technique à ce PRA</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D2.3 – Gestion des problèmes et des changements\r\n<ul>\r\n<li>A2.3.1 Identification, qualification et évaluation d’un problème\r\n<ul>\r\n<li>Sur mon Projet de Télédéploiement j’ai étudier le problème des attaques et de leurs ampleurs sur les cibles de ces attaques (d’où la nécessité du cryptage)</li>\r\n<li>Au niveau de l’intervention au cool café (qui informatiquement dépend de la CCO) j’ai du identifier et évaluer si les problèmes rencontré ainsi que leurs impacte sur l’utilisation des appareils</li>\r\n</ul>\r\n</li>\r\n<li>A2.3.2 Proposition d’amélioration d’un service\r\n<ul>\r\n<li>Au niveau du service de Télédéploiement j’ai proposé l’amélioration suivante : le self-service qui permettrait aux utilisateurs d’installer eux même leurs logiciels sans interventions de l’administrateur</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D3.1 – Conception d’une solution d’infrastructure\r\n<ul>\r\n<li>A3.1.3 Prise en compte du niveau de sécurité nécessaire à une infrastructure\r\n<ul>\r\n<li>Pour une communauté de commune on ne peut pas ce permettre d’avoir un service facilement attaquable qui pourrait permettre à un pirate d’installer des logiciels malveillants via une attaque Mind In The Middle d’où la nécessite du chiffrage par clé SSL.</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D3.3 – Administration et supervision d’une infrastructure\r\n<ul>\r\n<li>A3.3.1 Administration sur site ou à distance des éléments d’un réseau, de serveurs, …\r\n<ul>\r\n<li>l’administration de WAPT peut ce faire depuis le lan mais aussi via l’adresse ip public du conservatoire si, bien sûr on dispose des codes.</li>\r\n</ul>\r\n</li>\r\n<li>A3.3.5 Gestion des indicateurs et des fichiers d’activité\r\n<ul>\r\n<li>dans chacune des solutions mis en place j’ai également mis en place un système de logs permettant de savoir ce qui ce passe et d’identifier rapidement les causes d’un incident</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D4.1 – Conception et réalisation d’une solution applicative\r\n<ul>\r\n<li>A4.1.2 Conception ou adaptation de l’interface utilisateur d’une solution applicative\r\n<ul>\r\n<li>j’ai mis en place une interface utilisateur à l’arrêt de la machine qui leur permet d’annuler les installation avec UpdatEngine</li>\r\n</ul>\r\n</li>\r\n<li>A4.1.7 Développement, utilisation ou adaptation de composants logiciels\r\n<ul>\r\n<li>J’ai adapté le client d’UpdatEngine pour qu’ils ne fasse des remontées logiciel qu’a l’extinction</li>\r\n</ul>\r\n</li>\r\n<li>A4.1.8 Réalisation des tests nécessaires à la validation d’éléments adaptés ou développés\r\n<ul>\r\n<li>j’ai testé l’interface au moment de l’arrêt pour évité que l’utilisateur ne puisse voir quoi que ce soit des installations en cour</li>\r\n</ul>\r\n</li>\r\n<li>A4.1.9 Rédaction d’une documentation technique\r\n<ul>\r\n<li>pour chacune des solutions que j’ai mis en place (UpdatEngine, WAPT, PfSense) j’ai rédigé une documentation d’installation et d’utilisation</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D5.1 – Gestion des configurations\r\n<ul>\r\n<li>A5.1.1 Mise en place d’une gestion de configuration\r\n<ul>\r\n<li>dans UpdatEngine et dans WAPT les paquets gère la configuration des clients (conditions d’installation si 64 ou 32 bits, désinstallation des versions précédente (wapt) et gestion des dépendances (wapt)).</li>\r\n</ul>\r\n</li>\r\n<li>A5.1.2 Recueil d’informations sur une configuration et ses éléments\r\n<ul>\r\n<li>Wapt et UpdatEngine ont un système d’inventaire qui permet de récupérer tout les logiciels présent sur le poste client</li>\r\n</ul>\r\n</li>\r\n<li>A5.1.5 Évaluation d’un élément de configuration ou d’une configuration\r\n<ul>\r\n<li>dans le parc informatique j’ai classé les machines en deux principale groupe (vitesse normale et vitesse lente) ce qui m’a permit de détecter si des erreurs ce produisait ou si il était normal que la machine met autant de temps à se mettre à jour</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n<li>D5.2 – Gestion des compétences\r\n<ul>\r\n<li>A5.2.4 Étude d’une technologie, d’un composant, d’un outil ou d’une méthode\r\n<ul>\r\n<li>j’ai étudié au cours de ce stage le filtrage de connexions et le télédéploiement ainsi que les outils qui permette cette étude.</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n<h2 class=\"font-headlines\"><span id=\"Presentation_du_projet_de_teledeploiement\">Présentation du projet de télédéploiement</span></h2>\r\n<p style=\"text-align: justify;\">Le but de ce projet était de mettre en place un système de télédéploiement d’application qui permet de mettre à jour les logiciels depuis un serveur. L’utilité de ce projet est double, en effet il permet aux utilisateurs du domaine d’avoir les dernières versions des logiciels pour travailler, mais il permet également d’éviter le plus possible les problèmes de faille que peuvent causer des anciennes versions &nbsp;de plugin ou de logiciel (adobe reader et flash par exemple). J’ai commencé par une étude des différentes solutions disponible sur le marché en respectant certaines contrainte (par exemple que le logiciel soit sous GPL) puis j’ai mis en place la solution qui répondait le plus à mes besoins.</p>\r\n<h2 class=\"font-headlines\"><span id=\"Etapes_de_mise_en_place_de_la_solution_de_teledeploiement_choisis_pour_la_mise_en_production\">Étapes de mise en place de la solution de télédéploiement choisis pour la mise en production</span></h2>\r\n<ul>\r\n<li>Installation de&nbsp;Debian 8\r\n<ul>\r\n<li>Mise en place d’outils de prise en main a distance (OpenSSH)</li>\r\n</ul>\r\n</li>\r\n<li>Téléchargement et installation de&nbsp;WAPT serveur pour linux</li>\r\n<li>Installation de la console graphique de wapt&nbsp;pour administrer le serveur&nbsp;sur un PC d’administration</li>\r\n<li>Création des groupes de paquet et affectation au pc</li>\r\n<li>Téléchargement des paquets depuis le dépôt proposé par l’éditeur</li>\r\n<li>Création des paquets non présent sur le dépôt\r\n<ul>\r\n<li>Personnalisation de certains paquet (adobe, flash, java)</li>\r\n</ul>\r\n</li>\r\n<li>Affectation des paquets aux groupes</li>\r\n<li>Installations des clients sur les machines (qui communique avec le serveur)\r\n<ul>\r\n<li>Déploiement des dernières versions pour mettre à jour tout le parc</li>\r\n</ul>\r\n</li>\r\n<li>Création du self-service pour les utilisateurs (facultatif)</li>\r\n</ul>\r\n<h2 class=\"font-headlines\"><span id=\"Presentation_du_projet_dufiltrage_drsquoacces_Internet\">Présentation du projet du&nbsp;&nbsp;filtrage d’accès Internet</span></h2>\r\n<p>Le but de ce projet était de mettre en place un système de filtrage de la connexion pour bloquer le peer to peer, les sites pornographique et de piratage. La connexion à sécuriser utilise le wi-fi et doit être totalement transparent pour l’utilisateur final. De plus le projet a pour but d’empêcher les virus d’être téléchargé. Les lieu qui seront équipées de ce proxy seront la pépinières d’entreprise de la Communauté de Commune des Olonnes et le conservatoire de musique marin marais. Le boitier mis en place est un mini pc équipé de deux cartes réseaux et de PfSense qui est basé sur FreeBSD</p>\r\n<h2 class=\"font-headlines\"><span id=\"Etapes_de_mise_en_place_dufiltrage_drsquoacces_Internet\">Étapes de mise en place du&nbsp;&nbsp;filtrage d’accès Internet</span></h2>\r\n<ul>\r\n<li>Installation de&nbsp;PfSense\r\n<ul>\r\n<li>Configuration des cartes réseaux (celle du coté WAN et LAN)</li>\r\n</ul>\r\n</li>\r\n<li>Téléchargement et installation de Squid, squid3, Squidgard, Norst</li>\r\n<li>Configuration de Squidguard</li>\r\n<li>Configuration de Norst</li>\r\n<li>Configuration de ClamAV</li>\r\n<li>Validation du fonctionnement de la solution\r\n<ul>\r\n<li>télécharger eucar pour l’antivirus</li>\r\n<li>aller sur un site pornographique et un site de piratage connus</li>\r\n<li>lancer un téléchargement en peer to peer</li>\r\n</ul>\r\n</li>\r\n<li>mise en place du système de gestion des logs\r\n<ul>\r\n<li>vérifier la lisibilité des logs</li>\r\n</ul>\r\n</li>\r\n</ul>\r\n<h2 class=\"font-headlines\"><span id=\"Deroulement_dustage\">Déroulement du&nbsp;stage</span></h2>\r\n<h3 class=\"font-headlines\"><span id=\"Le_teledeploiement\">Le télédéploiement</span></h3>\r\n<p style=\"text-align: justify;\">J’ai tout d’abord réalisé une petite étude des solutions existantes disponible en fonction d’un cahier des charges. Puis compte tenu des informations que j’ai récolté sur les différentes solutions j’ai choisi de mettre en place <a href=\"http://www.updatengine.com/\">UpdatEngine</a>&nbsp;principalement car cette solutions est ergonomique, pratique, stable, et simple d’utilisation. Pendant que je mettais en place UpdatEngine j’ai réalisé la documentation technique pour sa mise en place et son utilisation, et, après une phase de test concluante j’ai commencé à&nbsp;la mettre en production (installation des clients et du serveur).</p>\r\n<p style=\"text-align: justify;\">Alors que je commençais à finalisé la configuration du serveur j’ai réalisé des test sur le déploiement de logiciel lorsqu’il était en court d’utilisation et contrairement à ce que je pensais l’installation n’était pas reporté ou annulée systématiquement, elle était soit réalisé ou, si les développeur y avait pensé, une erreur était retourné et l’installation était annulée. Dans le cas ou l’installation ce réalisait alors que le logiciel fonctionnait deux issus était possible, soit au démarrage suivant du logiciel sa nouvelle version était utilisé (pour Mozilla Firefox par exemple), soit l’installation était corrompue(pour libre office par exemple).</p>\r\n<p style=\"text-align: justify;\">Pour palier a ce problème j’ai mis en place un système qui déclenchais l’installation des logiciels en fin de session (voir documentation). Un problème subsistait avec la solution que j’avais choisis il n’existe pas de support ce qui à pour conséquence que mon maître de stage risquait d’être bloqué le jour où la solution ne fonctionnerait plus. j’ai donc choisis une autre solution appelée WAPT qui dispose d’un support à Nantes. malgré sont manque d’ergonomie(edit du 27/06/2017, Wapt à subit énormément de modification qui le rend beaucoup plus ergonomique et ce qui en fait une solution logiciel de télédéploiment très aboutie et donc recommander pour un réseau plus facilement administrable) , wapt lance les installations à l’arrêt du système et propose une sorte de «&nbsp;store&nbsp;» pour les utilisateurs. J’ai également réalisé la documentation en même temps que l’installation dans le réseaux de test. J’ai ensuite déployé la solution au niveau du conservatoire mais j’ai rencontré des problèmes avec adobe flash 10 (qui refusait l’exécution des «&nbsp;.msi&nbsp;» hors le télédéploiement de Flash player ne ce fait que par des «&nbsp;.msi&nbsp;») &nbsp;j’ai également eu des problèmes avec&nbsp;libre office 3.3 qui ne se désinstallais plus, en effet les ordinateurs n’était quasiment pas mis à jour par manque de temps. J’ai donc du chercher une solution que j’ai trouvé sous la forme d’un petit exécutable de Microsoft nommé <a href=\"https://support.microsoft.com/es-es/mats/program_install_and_uninstall/en-us\">Fix it</a> il permet de désinstaller les logiciels&nbsp;problématiques. J’ai donc mis en place une procédure de résolution du problème et réparé&nbsp;les postes clients ayant ce problèmes au conservatoire et j’ai pu tous les mettres à jour. Une fois cela fait j’ai mis en place tightVNC restricted &nbsp;qui est une sorte de Teamviewer où le poste client impacté n’a aucune action à faire mais le système est protégé par mot de passe. Maintenant que la solution était validé je l’ai mis en production sur les services techniques et le siège de la communauté de commune ainsi que dans deux crèche le tout faisant partit du même réseau, ainsi je suis arrivé au bout du projet.</p>\r\n<h3 style=\"text-align: justify;\" class=\"font-headlines\"><span id=\"Filtrage_drsquoacces_Internet\">Filtrage d’accès Internet</span></h3>\r\n<p>Pour ce projet je suis partit de la solution proposé par mon maître de stage c’est à dire PfSense et je me suis donc mis à répondre aux objectifs auxquels devra répondre la solution ce qui a été plutôt simple car il y a une très forte communauté en ligne du coup en très peu de temps ma solutions a répondu aux objectifs. J’ai donc pu la mettre en productions assez rapidement après avoir testé dans mon réseau de test le téléchargement de virus (eucar car c’est un virus de test). J’ai donc rédigé en parallèle de mes test une documentation sur PfSense</p></div>', 18, 1, 0, NULL);
INSERT INTO `article_article` (`id`, `image`, `date`, `publish`, `titre`, `resume`, `content`, `categorie_id`, `personne_id`, `is_pdf`, `lien_pdf`) VALUES
(2, 'image_article/Screenshot_2019-04-15_Installation-migration-updatengine-server-2_1_1-stable-1_pdf.png', '2016-04-15', 1, 'Télédéploiement d\'application avec UpdatEngine', 'Cet article est la documentation que j\'ai produite lors de mon stage à la CCO concernant UpdatEngine', '# Installation D’UpdatEngine\r\nCe dont nous allons avoir besoin :\r\n\r\n* Debian 8 serveur\r\n* Serveur LAMP : Linux Apache MySQL PHP\r\n* Python\r\n* Un environnement virtuel  »UE-environment »\r\n* Ouverture du port 1979\r\n* Chiffrement SSL\r\n* Django\r\n\r\n## Installation de l’environnement et des dépendances nécessaires\r\nInstallez tout d’abord les différentes dépendances nécessaires:\r\n\r\nexécuter en mode  »root » :\r\n    \r\n	root@updatengine:~# apt-get install apache2 libapache2-mod-wsgi python-virtualenv python-pip libxml2-dev libxslt-dev python-dev libmysqlclient-dev git-core mysql-server\r\n\r\nCréez maintenant l’environnement virtuel qui hébergera le serveur UpdatEngine. Nous le créerons\r\ndirectement sous /var/www dans un répertoire nommé UE-environment (veillez à respecter le nom\r\nde ce répertoire pour pouvoir profiter du fichier de configuration apache mis à disposition dans cet\r\ndocumentation)\r\n	\r\n	root@updatengine:~# virtualenv –distribute –no-site-packages /var/www/UE-environment\r\n	root@updatengine:~# cd /var/www/UE-environment/\r\n	root@updatengine:~# git clone https://github.com/updatengine/updatengine-server.git\r\n\r\nL’ensemble des fichiers du serveur UpdatEngine sont alors disponibles sous\r\n/var/www/UE-environment/updatengine-server\r\nInstallons maintenant les dépendances nécessaires à UpdatEngine.\r\n\r\n## Installation des dépendances dans l’environnement virtuel UE-environment\r\n\r\nLes différentes dépendances sont détaillées dans le fichier pip-packages.txt.\r\nInstallez les avec l’utilitaire /var/www/UE-environment/bin/pip install\r\nce qui permettra de n’installer les dépendances que dans votre environnement virtuel et dans les versions spécifiées.\r\n\r\n	root@updatengine:~# /var/www/UE-environment/bin/pip install –upgrade distribute\r\n	root@updatengine:~# /var/www/UE-environment/bin/pip install –upgrade setuptools\r\n	root@updatengine:~# /var/www/UE-environment/bin/pip install -r /var/www/UE-environment/updatengine-server/requirements/pip-packages.txt\r\n\r\nA l’issue de l’exécution de la commande, vous disposez de tout le nécessaire pour faire fonctionner l’application\r\n\r\n## Initialisation de la base de données MySQL\r\nCréez tout d’abord une base de données dédiée à l’application (utilisez par exemple updatengine comme nom):\r\n\r\n	root@updatengine:~# mysqladmin -u root -p create updatengine\r\n\r\npuis créez un utilisateur dédié à cette base de données (updatengineuser dans cet exemple avec comme mot de passe unmotdepasse):\r\n\r\n	root@updatengine:~# mysql -u root -p -e « GRANT ALL PRIVILEGES ON updatengine.* TO ‘updatengineuser’@’localhost’ IDENTIFIED by ‘unmotdepasse’ WITH GRANT OPTION; »		\r\nEnfin, chargez la table des fuseaux horaires :\r\n\r\n	root@updatengine:~# mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql\r\n	root@updatengine:~# service mysql restart\r\n\r\nVous pouvez maintenant modifier le fichier de configuration (/var/www/UE-environment/updatengine-server/updatengine/settings.py) pour y indiquer l’adresse de votre serveur et les paramètres de connexion à la base de données.\r\nCopiez tout d’abord le fichier settings.py.model_mysql vers settings.py :\r\n\r\n	root@updatengine:~# cp /var/www/UE-environment/updatengine-server/updatengine/settings.py.model_mysql /var/www/UE-environment/updatengine-server/updatengine/settings.py\r\n\r\nOuvrez le fichier /var/www/UE-environment/updatengine-server/updatengine/settings.py et renseignez la variable « PROJECT_URL » avec l’adresse et le port de votre serveur. Par exemple, si l’adresse ip de votre serveur est 10.0.0.250, vous devez renseigner la ligne de cette façon:\r\n\r\n	PROJECT_URL = ‘http://10.0.0.250:1979’\r\n\r\nexécuter donc la commande suivante :\r\n\r\n	root@updatengine:~# nano /var/www/UE-environment/updatengine-server/updatengine/settings.py\r\n\r\n![](/media/markdownx/dd623b06-40f9-42aa-8e04-196525496da4.png)\r\n\r\nRemarque: le port par défaut 1979 est définit dans le fichier de configuration apache-updatengine.\r\nRenseignez maintenant les paramètres de connexion à la base de données dans le paragraphe suivant:\r\n(vous trouverez un paragraphe de ce type non remplis dans le fichier de configuration)\r\n\r\n	DATABASES = {\r\n		‘default’: {\r\n			‘ENGINE’: ‘django.db.backends.mysql’, # Add ‘postgresql_psycopg2’, ‘mysql’, ‘sqlite3’\r\n			‘NAME’ : ‘updatengine’,\r\n			‘USER’: ‘updatengineuser’,\r\n			# Not used with sqlite3.\r\n			‘PASSWORD’: ‘unmotdepasse’,\r\n			# Not used with sqlite3.\r\n			‘HOST’:  »,\r\n			# Set to empty string for localhost. Not used with sqlite3.\r\n			‘PORT’:  »,\r\n			# Set to empty string for default. Not used with sqlite3.\r\n		}\r\n	}\r\nAprès avoir fait ces modifications, sauvegardez et fermez ce fichier.\r\nRemarque:\r\n\r\nces informations correspondent à l’exemple pris ci-dessus lors de la création de la base de données et de son utilisateur. Il faudra donc l’adapter à votre contexte.\r\nAvant de redémarrer le service apache2, copiez le fichier de configuration standard puis activez ce nouveau site:\r\n\r\n	root@updatengine:~# cp /var/www/UE-environment/updatengine-server/requirements/apache-updatengine.conf /etc/apache2/sites-available/apache-updatengine.conf\r\n	root@updatengine:~# a2ensite apache-updatengine\r\n\r\nActivez également le mode wsgi si ce n’est pas déjà fait:\r\n\r\n	root@updatengine:~# a2enmod wsgi\r\n\r\nRedémarrez maintenant le service apache2 pour prendre en compte la nouvelle configuration:\r\n\r\n	root@updatengine:~# service apache2 restart\r\n\r\nPuis initialisez la base de données:\r\n\r\n	root@updatengine:~# /var/www/UE-environment/bin/python /var/www/UE-environment/updatengine-server/manage.py syncdb\r\n\r\nL’installeur vous demande alors si vous souhaitez créer un nouvel utilisateur pour l’application:\r\n\r\nRépondez yes à la question posée pour en créer un nouveau :\r\n\r\n	You just installed Django’s auth system, which means you don’t have any\r\n	superusers defined. Would you like to create one now? (yes/no): yes\r\n	Saisissez ensuite le nom de l’utilisateur et entrez son adresse email:\r\n	Username (leave blank to use ‘root’): admin\r\n	E-mail : address:admin@local.domain\r\n\r\nSaisissez ensuite un mot de passe pour cet utilisateur, confirmez le et validez en appuyant sur la touche entrée pour terminer l’initialisation de la base de données:\r\n\r\n	Password:*****\r\n	Password (again):*****\r\n\r\nLa base de données est maintenant initialisée.\r\nPour terminer la configuration d’UpdatEngine, nous allons maintenant passer toutes les mises à jour effectuées\r\ndepuis le début de son développement avec la commande « migrate » :\r\n\r\n	root@updatengine:~# /var/www/UE-environment/bin/python /var/www/UE-environment/updatengine-server/manage.py migrate\r\n\r\nRemarque:\r\n\r\nle schéma de base de données est géré avec le module python South pour faciliter les évolutions et les migrations des bases de données entre versions.\r\n\r\nEnfin chargez les données initiales de l’application (configuration par défaut):\r\n	root@updatengine:~# /var/www/UE-environment/bin/python /var/www/UE-environment/updatengine-server/manage.py loaddata /var/www/UE-environment/updatengine-server/initial_data/configuration_initial_data.yaml\r\n	root@updatengine:~# /var/www/UE-environment/bin/python /var/www/UE-environment/updatengine-server/manage.py loaddata /var/www/UE-environment/updatengine-server/initial_data/groups_initial_data.yaml\r\n\r\nL’installation de l’application et l’initialisation de la base de données est maintenant terminée. Il ne reste plus qu’à rendre l’utilisateur www-data propriétaire des deux répertoires static et media:\r\n\r\n	root@updatengine:~# chown -R www-data:www-data /var/www/UE-environment/updatengine-server/updatengine/static/\r\n	root@updatengine:~# chown -R www-data:www-data /var/www/UE-environment/updatengine-server/updatengine/media/\r\n\r\n## Patch de Django 1.6.2\r\nAfin de corriger un bug Django pouvant (dans certain cas) conduire à l’enregistrement de mauvais enregistrements, veuillez passer le patch nommé patch-django_1.6.2_17118.patch :\r\n\r\n	root@updatengine:~# patch -p1 /var/www/UE-environment/local/lib/python2.7/site-packages/django/forms/models.py /var/www/UE-environment/updatengine-server/requirements/patchs/patch-django_1.6.2_17118.patch\r\n\r\n## Fin de configuration\r\nVous pouvez maintenant relancer le service apache2 :\r\n\r\n	root@updatengine:~# service apache2 restart\r\n\r\nEnfin, connectez-vous à l’application avec un navigateur web en saisissant comme adresse celle que\r\nvous avez renseigné pour la variable PROJECT_URL (http://10.0.0.250:1979 dans l’exemple).\r\nVous arrivez alors sur la boîte de connexion. Connectez-vous avec le login et le mot de passe renseigné précédemment (à la configuration de Django).\r\n\r\n![](/media/markdownx/d2786516-d26a-48ae-a765-3f61585d2d74.png)\r\n\r\n![](/media/markdownx/1cfc158a-2108-4025-9e3b-adda92a9aee8.png)\r\n\r\n# Migration vers une version stable\r\nCette procédure a pour but de migrer un serveur UpdatEngine dans la toute nouvelle version 2.1.1 stable <u>à ne pas faire si c’est déjà le cas</u>.\r\n\r\n## Sauvegarde de l’application\r\n\r\nComme pour toute application à mettre à jour, commencez par faire une sauvegarde de la base de données et des fichiers de l’application (de façon à préserver vos paquets).\r\nVous pouvez également sauvegarder le répertoire contenant les paquets de déploiement situés dans le répertoire /var/www/UE-environment/updatengine-server/updatengine/media/package-file/\r\n\r\n## Procédure de mise à jour\r\n### Mise à jour et bascule sur la branche stable (nommée master)\r\nPlacez-vous dans le répertoire updatengine-server et assurez-vous tout d’abord de bien être en version stable (master)\r\n\r\n	root@updatengine:~# cd /var/www/UE-environment/updatengine-server/\r\n	root@updatengine:~# git checkout master\r\n\r\nLancez ensuite la commande git pull qui permettra de synchroniser votre installation avec les sources hébergées en ligne:\r\n\r\n 	root@updatengine:~# git pull\r\n\r\n### Mise à jour des modules\r\nCommencez par mettre à jour les dépendances nécessaires à l’application :\r\n\r\n	root@updatengine:~# cd /var/www/UE-environment/\r\n	root@updatengine:~# /var/www/UE-environment/bin/pip install –upgrade distribute\r\n	root@updatengine:~# /var/www/UE-environment/bin/pip install –upgrade setuptools\r\n	root@updatengine:~# /var/www/UE-environment/bin/pip install -r /var/www/UE-environment/updatengine-server/requirements/pip-packages.txt\r\n\r\nPuis, chargez la table des fuseaux horaires :\r\n\r\n	root@updatengine:~# mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql\r\n	root@updatengine:~# service mysql restart\r\n### Mise à jour de la base\r\nVérifiez tout d’abord que les noms des entités de votre base sont différentes car un critère d’unicité sur leurs noms est maintenant positionné.\r\n\r\nVous pouvez maintenant procéder à la mise à jour de la base de données:\r\n\r\n	root@updatengine:~# /var/www/UE-environment/bin/python /var/www/UE-environment/updatengine-server/manage.py syncdb\r\n\r\npuis\r\n\r\n	root@updatengine:~# /var/www/UE-environment/bin/python /var/www/UE-environment/updatengine-server/manage.py migrate\r\n### Adaptation du fichier settings.py\r\nOuvrez le fichier settings.py :\r\n\r\n	root@updatengine:~# nano /var/www/UE-environment/updatengine-server/updatengine/settings.py\r\n\r\nAjoutez la ligne : SHOW_PERM_CONFIG_AUTH = False après l’option LANGUAGE_CODE = ‘fr’\r\n\r\n### Chargement des groupes par défaut\r\n\r\nAfin de charger les nouveaux groupes mis à disposition avec cette version, lancez la comande suivante\r\n\r\n	root@updatengine:~# /var/www/UE-environment/bin/python /var/www/UE-environment/updatengine-server/manage.py loaddata /var/www/UE-environment/updatengine-server/initial_data/groups_initial_data.yaml\r\n\r\n ### Patch de Django 1.6.2\r\n\r\nAfin de corriger un bug Django pouvant (dans certain cas) conduire à l’enregistrement de mauvais enregistrements, veuillez passer le patch nommé patch-django_1.6.2_17118.patch :\r\n\r\n	root@updatengine:~# patch -p1 /var/www/UE-environment/local/lib/python2.7/site-packages/django/forms/models.py /var/www/UE-environment/updatengine-server/requirements/patchs/patch-django_1.6.2_17118.patch\r\n\r\nPour finir la mise à jour il faut redémarrer le service apache2 :\r\n\r\n	root@updatengine:~# service apache2 restart\r\n\r\nVous pouvez maintenant vous connecter à l’application. Après la connexion, vous devriez avoir une interface de ce type :\r\n\r\n\r\n![](/media/markdownx/e3241dd5-1163-4c41-ba15-c668f30a277e.png)\r\n\r\n# Création du certificat SSL pour l’HTTPs\r\nCommencez par créer une clef dédiée à l’application UpdatEngine:\r\n\r\n	root@updatengine:~# openssl genrsa -out /etc/ssl/private/updatengine.key 1024\r\n\r\nPuis générez un certificat à partir de cette clef et répondez aux questions posées\r\n\r\n	root@updatengine:~# openssl req -new -x509 -days 3650 -key /etc/ssl/private/updatengine.key -out /etc/ssl/certs/updatengine.crt\r\nexplication de la commande :\r\n\r\n	* -x509 : génération d’un certificat autosigné, et non d’une simple requête\r\n	* -days 365 : le certificat est valable 365 jours\r\n	* -key server.key : la clé publique est extraite de la bi-clé précédente\r\n	* -out server.crt : le certificat est copié\r\n\r\nRépondez aux question posé pour la génération du certificat.\r\nA noter qu’il faut faire attention au champ Common Name (eg, YOUR name) : Il faut mettre le même nom que le serveur, pour mon cas EnvironementTest.com. Sinon, nous aurons un message comme quoi le nom du propriétaire du certificat et du site ne correspond pas.\r\nPour l’instant nous avons un certificat et un serveur web pourtant quand j’essaye de me connecter au serveur j’ai une erreur (« Page Web Inaccessible ») et c’est normal, en effet on doit intégrer le certificat dans le fichier de configuration de notre site.\r\n\r\n## Configuration du site Web\r\n\r\nIl nous faut donc éditer le fichier de configuration de notre serveur Web et activer le module SSL.\r\n\r\nactivation du module SSL :\r\n\r\n	root@updatengine:~# a2enmod ssl	\r\n	\r\nÉditer le fichier de configuration de votre site Web en décommentant 3 lignes :\r\n\r\n	root@updatengine:~# nano /etc/apache2/sites-enabled/apache-updatengine.conf\r\n\r\net décommenter les lignes suivantes : \r\n\r\n	SSLEngine on\r\n	SSLCertificateFile    /etc/ssl/certs/updatengine.crt\r\n	SSLCertificateKeyFile /etc/ssl/private/updatengine.key\r\n\r\nc’est a dire celle qui sont encadré en rouge dans l’image suivante :\r\n\r\n![](/media/markdownx/22b9be48-71b9-44d8-9d5c-417bc4d61d9b.png)\r\n\r\nAvant de redémarrer le service apache2, modifiez le fichier de configuration de l’application en ouvrant le fichier suivant :\r\n\r\n	/var/www/UE-environment/updatengine-server/updatengine/settings.py\r\n	 root@updatengine:~# /var/www/UE-environment/updatengine-server/updatengine/settings.py\r\n\r\net en remplaçant dans la valeur de la variable PROJECT_URL: http:// par https:// comme ici :\r\n\r\n\r\n![](/media/markdownx/9c4b26a4-9b56-4c1c-b45c-3fac75053370.png)\r\n\r\nil faut maintenant redémarrer Apache :\r\n\r\n	root@updatengine:~# /etc/init.d/apache2 restart\r\n\r\npour accéder a UpdatEngine il faut entrer https://ip_serveur:1979/ on a cette page :\r\n\r\n![](/media/markdownx/5a20c97d-b197-4e34-b143-5b10a40ceec2.png)\r\n\r\nCliquez sur « je comprends les risques » puis sur « ajouter une exception… » et « Confirmez l’exception de sécurité » et vous voici sur la page d’accueil sécurisé :\r\n\r\n![](/media/markdownx/a6ee6ac8-d1dc-4e1a-8830-74ab9d566916.png)\r\n\r\n# Configuration des clients\r\nAvant de configurer les clients, commencez par récupérer le certificat de sécurité SSL.\r\nVous devez pour cela transformer le certificat updatengine.crt au format pem par la commande suivante:\r\n\r\n	root@updatengine:~# openssl x509 -in /etc/apache2/ssl/apache.crt -out /tmp/cacert.pem -text\r\n\r\npersonnellement pour amener le certificat sous windows je me suis connecter en SSH avec WinSCP sur le serveur.\r\nJe vous conseil de le mettre dans un répertoire inaccessible au utilisateurs\r\n\r\npersonnellement je l’ai déposé dans le répertoire « UpdatEngine client » (répertoire dans lequel serra installé le client qui est lui même dans « C:\\Program Files (x86)\\ »)\r\n\r\nVous pouvez maintenant récupérer le certificat cacert.pem généré sous /tmp pour le copier par la suite dans les répertoires de configuration des clients UpdatEngine.\r\n\r\nVous pouvez maintenant configurer les clients:\r\n\r\nRécupérez tout d’abord l’agent Windows (http://download.updatengine.com/updatengine-client-setup.exe)\r\nUne fois téléchargé, exécutez le. Une première fenêtre vous demande de choisir la langue de l’installeur puis vous présente la version de l’agent que vous allez installer. Cliquez sur Suivant pour poursuivre:\r\n\r\n\r\n![](/media/markdownx/72486af2-bb8b-4d61-bcea-ed5c9d9d89a1.png)\r\n\r\nL’installeur affiche alors la licence d’utilisation du logiciel (GPL V2). Prenez en connaissance puis acceptez les termes de la licence et validez votre choix en cliquant sur Suivant :\r\n\r\n\r\n![](/media/markdownx/0e46ec47-6a99-4637-be20-e2f06b5a9927.png)\r\n\r\n\r\nRenseignez ces deux champs puis validez ces choix en cliquant sur Suivant, Attention au délais entre les inventaires :\r\n\r\n![](/media/markdownx/d42a3740-ae26-4dad-abc9-58894c13d69e.png)\r\n\r\nAttention : à cette étape veillez à bien respecter le protocole (http ou https) ainsi que l’adresse et le port de fonctionnement de votre serveur UpdatEngine. Cliquer ensuite deux fois sur suivant. Vous pouvez maintenant sélectionner un certificat de sécurité SSL si vous fonctionnez en HTTPS. Pour cela cliquez sur le bouton Parcourir et choisissez le certificat de sécurité SSL issu du serveur hébergeant votre serveur UpdatEngine. Cliquez ensuite sur Suivant pour valider votre choix.\r\n\r\n![](/media/markdownx/e8adfc30-9107-4fdd-a037-a162bdcc4f55.png)\r\n\r\nUne fois votre client installé, la connexion entre l’agent et le serveur sera sécurisée.Vous pouvez retrouver votre machine dans l’onglet Inventaires > Machines , le serveur a récupéré la liste des logiciels le nom de la machines, …\r\n\r\nici ma machine ou j’ai installé le client :\r\n\r\n\r\n![](/media/markdownx/a1708d49-0cc5-40f4-8acd-5a7ecd29b0ad.png)\r\n\r\n# Les paquets de déploiement\r\n## Les conditions de déploiements\r\n\r\nLes conditions de déploiement servent à savoir si le logiciel est installable sur la machine ou quel version est actuellement installé sur cette dernière ce qui peut être très pratique quand on démarre avec une solution de déploiement au début car notre parc comprend des machines utilisant différentes versions d’un même logiciel donc certaine seront concerné par le paquet de déploiement et d’autre non. Pour créer une condition de déploiement aller dans l’onglet Déploiements puis Conditions d’installations. Nous pouvons voir ici que j’en ai déjà créé :\r\n\r\n![](/media/markdownx/b0ffb1ad-c6f1-4fce-97ff-d63885249749.png)\r\n\r\n\r\n![](/media/markdownx/fd03c26a-b293-4d47-948b-4b63c965f5fc.png)\r\n\r\nIl nous faut maintenant remplir 4 champs : le nom, la condition, le nom du logiciel et sa version.\r\n\r\n![](/media/markdownx/693947ff-e536-4a72-85ea-b500296e11df.png)\r\n\r\nChamps Conditions vide\r\n\r\nExemple : Nous voulons mettre à jour Libre Office sur 41 poste dont certains on déjà la dernière version (5.0.1) nous allons donc remplir les champs comme suis :\r\n\r\n	Nom de la condition : Libre Office 5.0.1\r\n	Condition à vérifier : Logiciel non installé ou version inférieure à :\r\n	Nom : Libre Office\r\n	Version : 5.0.1\r\nPuis cliquer sur Enregistrer en bas a droite\r\n\r\n\r\n![](/media/markdownx/5ab0423a-a63d-45b5-8c3d-07210dee7108.png)\r\n\r\nPour connaître la bonne orthographe du nom du logiciel et la version je vous conseille de l’installer sur une machine puis de lancer l’inventaire. Prenons le cas de mozilla firefox, comment l’orthographier ? Mozilla Firefox, MOZILLA FIREFOX, … ? pour savoir cela installer le sur votre poste puis faite une remonté d’inventaire (commande à exécuter dans l’invite de commande: « C:\\Program Files (x86)\\UpdatEngine client\\updatengine-client.exe » -i -s https://10.0.0.250:1979 -o « C:\\Program Files (x86)\\UpdatEngine client\\updatengine-client.log »).\r\n\r\nPuis aller dans « Inventaires/Machines » et cliquez sur le nom de la machine sur lequel le logiciel est installé (vérifier l’heure pour être sur que l’inventaire ai bien eu lieu), descendez jusqu’à la partie « Logiciels » et chercher (dans ce cas) Mozilla Firefox. Ensuite copiez la première colonnes dans la partie nom et la seconde dans la partie version :\r\n\r\n![](/media/markdownx/cd616c26-da48-46c8-8ee6-99d5c547e2eb.png)\r\n\r\n\r\npour tester l’architecture il est plus simple d’indiquer juste le nom de la condition et dans le champ « Condition à vérifier » sélectionner « Poste Windows 64 bits » .\r\n\r\n\r\nexemple :\r\n\r\n![](/media/markdownx/0a6e5235-fc7a-486c-950d-4379eeae2738.png)\r\n\r\n## Comment faire un paquet de déploiement\r\n\r\nNous savons donc maintenant faire une condition de déploiement maintenant nous allons créer un paquet de déploiement :\r\n\r\nAllez dans Déploiements > Paquets de déploiements puis cliquez sur « Ajouter paquet de déploiement »\r\nNous devons remplir 7 champs :\r\nDans Général :\r\n\r\nLe Nom : le nom du paquet\r\nLa Description : logiciel qu’il installe, version\r\n\r\nDans « Édition de paquet »\r\n\r\nLes Conditions : sous quelle conditions est-il installable\r\nLa commande pour lancer l’installation : Diffère en fonction des logiciels (/s, …)\r\nLe fichier (.zip, .exe, .msi, …) : Fichier contenant l’installeur\r\nPaquet public :basculer à oui, les clients updatengine pourront télécharger et installer le paquet directement\r\nIgnorer les horaires de télédéploiement : permet de déployer en dehors des horaires définit\r\n\r\nExemple : continuons sur notre exemple de Libre Office, voici ce que l’on remplit\r\nDans Général :\r\n\r\n	Le Nom : Libre office\r\n	La Description : Installation silencieuse de libre Office 5.0.1\r\n	\r\nDans « Édition de paquet »\r\n\r\n	Les Conditions : Libre Office 5.0.1\r\n	La commande pour lancer l’installation : msiexec /i LibreOffice_5.0.1_Win_x86.msi /quiet /passive /norestart\r\n	Le fichier : LibreOffice_5.0.1_Win_x86.msi\r\n	Paquet public : non\r\n	Ignorer les horaires de télédéploiement : oui\r\n	\r\nce qui nous donne :\r\n\r\n![](/media/markdownx/2dd4058e-5a21-43d6-832f-890eedefb987.png)\r\n\r\ncliquez ensuite en bas a droite sur « Enregistrer ».\r\nA noter que la commande change pour chaque exécutable, même si certaine sont standardisé (/s, /i, /norestart). Je conseille de toujours tester sont paquet de déploiement sur un poste à part puis de le lancer sur le parc.\r\n\r\nAttention si votre logiciel à installer comprend plusieurs fichier compressez les entre eux et non leur répertoire (voir http://www.updatengine.com/deployer-executable-zip/ )\r\n\r\non peut noter également que via un paquet de déploiement nous pouvons également exécuter des scripts\r\n\r\n## Comment déployer\r\nIl existe deux moyens pour déployer des logiciels au cas par cas ou sur une entité (groupe) vous pouvez suivre un déploiement en cour en allant dans « Déploiements/Historique des déploiements ».\r\n\r\n### Déploiement au cas par cas\r\n\r\nCe premier type de déploiement permet d’installer à distance un logiciel, l’installation ce fait lors du prochain inventaire pour cela suivez ces étapes :\r\nAllez dans le menu « Inventaires » puis sur « Machines »\r\nchoisissez la machine qui vous intéresse (voir colonne nom qui indique le nom Net Bios)\r\ncliquez sur la date et l’heure de la dernière sauvegarde\r\ndescendez jusqu’à atteindre le champ « paquet a installer statiquement »\r\ndans la colonne de gauche double cliquez sur les paquets de déploiements que vous voulez exécuter (ils se mettront dans la colonnes de droite)\r\n\r\n\r\n![](/media/markdownx/49d55ffe-6cdd-4824-8c74-d587bf38f665.png)\r\n\r\n### Déploiement par Entités\r\n#### Les entités\r\n\r\nUne entité pour UpdatEngine est un groupe de machine, nous allons les utiliser pour déployer nos paquets.\r\nTout d’abord allez dans « Inventaires> Entités » et cliquez sur « Ajouter entité »\r\n\r\n![](/media/markdownx/6275c9c7-4c3d-4b65-b0c4-2549ed4d238f.png)\r\n\r\nremplissez les champs comme suis :\r\n\r\n	Nom : Conservatoire\r\n	Description : PC du conservatoire\r\n	Forcer l’application du profil ? Non\r\n	Forcer l’application de la période de déploiement? Non\r\n	\r\nce qui donne :\r\n\r\n\r\n![](/media/markdownx/bebb476e-389b-4247-9a42-16cd7c8013f7.png)\r\n\r\n#### Le déploiement\r\nLe déploiement par entité est un tout petit peu plus complexe, allez dans « Inventaire » puis « Machines »               \r\nfaite une recherche par entité en cliquant sur « Filtre » et au niveau d’Entité sélectionnez celle qui vous intéresse (ici conservatoire)\r\n\r\n\r\n![](/media/markdownx/c528d545-75bc-42db-bd72-31fcd581564e.png)\r\n\r\nils nous reste ainsi que les machines faisant partit de l’entité « Conservatoire », sélectionnez toutes les machines en cliquant dans la case ne correspondant à aucune machine\r\n\r\n\r\n![](/media/markdownx/82ad00a9-1ab2-4ad6-b837-4d90919f4884.png)\r\n\r\npuis dans le menu déroulant du bas sélectionnez « Mass Update »\r\n\r\n\r\n![](/media/markdownx/4edce15c-9cba-464f-813c-c61e3f3783e2.png)\r\n\r\ndans le menu des machines cliquez dans la case « mettre à jour au niveau de « Paquets à installer statiquement » puis sélectionnez les paquets à déployer et enfin cliquez sur « Mettre à jour ».\r\nIci je lance le paquet « Audacity » :\r\n\r\n![](/media/markdownx/7400fff2-29fa-41ae-83ee-e63180da8054.png)\r\n\r\n##  Importer et exporter ses paquets\r\n\r\n\r\nImporter ou exporter un paquet permet de récupérer les paquets du serveur et de les sauvegarder cette tache est laborieuse sous UpdatEngine car on ne peut faire qu’un paquet a la fois.\r\nAllez dans l’onglet « Déploiements » puis dans « imports/exports »\r\nCliquez sur « Ajouter Import/Export »\r\n\r\n![](/media/markdownx/f4088b14-6f8e-4e76-ba9f-bc6ca0ba32b6.png)\r\n\r\nvous devez ensuite lui donner un nom, une description , et si c’est un import choisir le fichier .zip d’un paquet exporté ou si c’est pour exporté choisissez un paquet dans le menu déroulant.\r\n\r\nExemple d’export :\r\n\r\n![](/media/markdownx/1e863138-ccb3-4e58-ae86-11d3bee6e9a0.png)\r\n\r\nenfin cliquez sur « Enregistrer », vous serez renvoyé à l’accueil d’import/export.\r\nCliquez sur « Export » au niveau de votre objet d’import/Export :\r\n\r\n\r\n![](/media/markdownx/0836c7d5-ea5e-47c2-8dd7-0fb1a45dd7b6.png)\r\n\r\nPour importer un paquet l’opération est assez similaire :\r\nAllez dans l’onglet « Déploiements » puis dans « imports/exports »\r\nCliquez sur « Ajouter Import/Export »\r\nvous devez ensuite lui donner un nom, une description , choisir le fichier .zip\r\n\r\n![](/media/markdownx/671d1d70-9991-4587-9666-46eae6c952db.png)\r\n\r\nCliquez sur « Enregistrer » en bas a droite.\r\n\r\nEn vous rendant maintenant sur la page des paquets de déploiement, vous pouvez voir qu’une nouvelle ligne montrant le paquet est disponible\r\n\r\n\r\n![](/media/markdownx/5ee9a238-233c-4cf9-a7ac-e25dd765590f.png)\r\n\r\nDe même une condition déjà associée au paquet a été créée. De cette façon, vous pouvez en une seule opération importer le paquet de déploiement et les conditions associées.\r\n\r\nVous pouvez maintenant déployer ce paquet comme tout autre paquet sur les machines de votre parc informatique.\r\n\r\n## Désinstallation à distance\r\n\r\nUpdatEngine permet la désinstallation via un paquet de déploiement des logiciels installé.\r\n\r\nPour cela créez un nouveau paquet de déploiement avec les paramètres suivant :\r\n\r\n	Nom : Nom du paquet à désinstaller suivi de « -uninstall » pour le repérer plus facilement\r\n	Description : description du paquet\r\n	condition : le logiciel est installé\r\n	commande : commande de désinstallation fourni par UpdatEngine\r\n	Paquet public : non\r\n	Ignorer les horaires de télédéploiement : oui\r\n	\r\npour récupérer la commande de désinstallation aller dans « Inventaires/Logiciels » puis rechercher le logiciel que vous voulez désinstaller, cliquer sur sont nom et copier la commande du champ « Désinstalleur » et rajouter /s , ou /quiet /passive\r\n\r\n![](/media/markdownx/4243c6aa-541f-4fd4-8f3c-35ff6a1e51bb.png)\r\n\r\n![](/media/markdownx/3799c90a-4c7f-495c-a57b-98748a623358.png)\r\n\r\nexemple :\r\n\r\n![](/media/markdownx/cc500f57-8158-453e-bc38-db92b3b778e3.png)\r\n\r\n# Modification du déclenchement de l’inventaire\r\nIntroduction :\r\n\r\nDans certains cas la fonction Wake-On-Lan n’est pas possible et le déploiement ne peut se faire qu’à deux moment : au démarrage ou à l’extinction du PC mais UpdatEngine n’est pas prévu pour cela de base, en effet il fait une remonté d’inventaire régulière et peut donc tenter d’installer un logiciel alors que ce n’est pas possible car il est en fonctionnement. J’ai donc décidé d’exécuter UpdatEngine uniquement à l’arrêt du système. Pour cela j’ai donc désactivé les taches liées à UpdatEngine sur le client, Puis j’ai crée une GPO qui exécute un script pour faire une remonté d’inventaire à l’arrêt. Puis, j’ai adapté les commandes pour que la fenêtre de l’installeur ne soit pas visible au moment de l’installation. Pour certain paquet comme adobe il faut refaire le paquet de déploiement.\r\n\r\n## Désactiver les Tâches d’UpdatEngine\r\nAllez dans démarrer et taper « planificateur de taches » et appuyez sur la touche entrer :\r\n\r\n\r\n![](/media/markdownx/b9cde1a4-7c0b-46dc-bad1-8a86395a36ef.png)\r\n\r\nUne fois ouvert rechercher une tâche UpdatEngine en cour d’exécution dans l’encadré en bas de page et double cliquer dessus :\r\n\r\n![](/media/markdownx/957793e5-5ed1-4d7f-822b-7e6402de1671.png)\r\n\r\nSélectionnez les deux tâches UpdatEngine (Updatengine et Updatengine-monitor ) puis faite un clic droit et cliquez sur « Désactiver » :\r\n\r\n\r\n![](/media/markdownx/2e439a66-88df-4e45-8424-ec1765d9538e.png)\r\n\r\n##  Mise en place d’une GPO\r\nNous allons mettre en place une GPO réalisant 2 actions :\r\n\r\n\r\n	Autoriser l’exécution des scripts de plus de 15 minutes\r\n	Lancer les scripts de remonté d’inventaire à l’extinction de l’ordinateur\r\n\r\npour créer la GPO sur windows server 2008 r2 suivez les étapes suivantes :\r\n\r\nouvrez le menu démarrer > Outils d’administration > Gestion des stratégies de groupe\r\n\r\n![](/media/markdownx/29cb3652-dce9-4be2-8cc3-b34898552421.png)\r\n\r\nfaite un clic droit sur votre nom de domaine (ou dans l’UO contenant les PC concernés )et cliquez sur « Créer un objet GPO dans ce domaine, et le lier ici… »\r\n\r\n![](/media/markdownx/7640db84-2186-443b-b9dc-f84f91d6e7e2.png)\r\n\r\nindiquer le nom de la GPO dans l’onglet qui apparaît\r\n\r\n![](/media/markdownx/b71382dd-836c-45ab-af18-e033c9a693c0.png)\r\n\r\nelle apparaît sous le nom de domaine et dans le dossier « Objet de stratégie de groupe » pour l’éditer faite un clic droit puis cliquer sur « Modifier… »\r\n\r\n### Exécution d’un script en fermeture de session\r\n\r\nFaite un clic droit sur la GPO nouvellement créée et cliquez sur « Modifier … » puis cliquez dans cette ordre : Configuration ordinateur/Stratégies/Paramètres Windows/Scripts (démarrage/arrêt)/arrêt du système.\r\n\r\nCliquer sur « ajouter » puis sélectionner le script « Starter » dans le netlogon du serveur (\\\\<ip du serveur>\\netlogon\\starter.bat enfin cliquez sur « Ouvrir » puis sur « ok » et enfin « appliquer » et sur « ok ».\r\n\r\n![](/media/markdownx/e88ad32d-eb68-411c-b4f5-9075671e579a.png)\r\n\r\nNous verrons plus tard quel script faire pour lancer UpdatEngine\r\n\r\n### GPO autoriser les scripts long à l’arrêt\r\nFaites un clic droit sur la GPO nouvellement créé et cliquez sur « Modifier … » puis cliquez dans cette ordre : Configuration ordinateur/Stratégies/Modèles administration/Système/Options d’arrêt\r\n\r\ndouble cliquez sur « Désactiver l’arrêt automatique des applications qui bloquent ou annulent l’arrêt de l’ordinateur » passer l’option sur « Activé » ensuite cliquez sur « Appliquer » puis « ok »\r\n\r\n\r\n![](/media/markdownx/b14f58b4-60c2-4c96-ba0f-5908078ef3ad.png)\r\n\r\nFaites un clique droit sur le nom de votre GPO sous le nom de domaine et cliquez sur « Appliqué » à ce moment là un cadenas apparaît à coter de la GPO elle est activé, elle serra réellement appliquée dans 90 minutes ou au prochain démarrage ou encore en entrant « gpupdate /force » dans l’invite de commande.\r\n\r\n![](/media/markdownx/56ba7a33-9685-4a6e-9161-fe9acfaf9b44.png)\r\n\r\n## Création des Scripts\r\nIl me fallait deux script en Batch : un de présentation et l’autre exécutant la commande d’inventaire\r\n\r\n### Script de présentation\r\n\r\nC’est le script exécuté par la GPO (rem = commentaire (remarque)):\r\n\r\n	@echo off\r\n	rem nettoyage de la console avec cls\r\n	cls\r\n	rem message d\'attente\r\n	echo.\r\n	echo.\r\n	echo 	############################################\r\n	echo 	#                                          #\r\n	echo 	#                                          #\r\n	echo 	#  V‚rification des mises … jour           #\r\n	echo 	#  l\'ordinateur s\'‚teindra automatiquement #\r\n	echo 	#  Si des fenˆtres apparaissent veuillez   #\r\n	echo 	#       	ne pas les fermer	   #\r\n	echo 	#                                          #\r\n	echo 	#                                          #\r\n	echo 	############################################\r\n	echo. \r\n	echo.\r\n	call \\\\10.0.0.245\\netlogon\\launchUpdatEngine.bat>nul\r\n\r\nle call appelle le second script par le réseau\r\n\r\n### Script de remonté d’inventaire\r\nCe script est juste la commande de remonté d’inventaire :\r\n\r\n	\"C:\\Program Files (x86)\\UpdatEngine client\\updatengine-client.exe\" -i  -s https://10.0.0.250:1979 -o \"C:\\Program Files (x86)\\UpdatEngine client\\updatengine-client.log\"	\r\n\r\n## Adaptation des commandes\r\n\r\nSi dans votre paquet de déploiement vous utilisez un .exe ou un .bat rajoutez « >nul » a la fin de la commande.\r\n\r\nexemple : « install.bat>nul » ou « FirefoxSetup38.5.2esr.exe /s /norestart >nul »\r\nsi c’est un .MSI assuré vous que le /quiet et le /passive sont présent (même si en temps normal il le sont)\r\n\r\n## Création du paquet de déploiement d’adobe Reader\r\nTéléchargez tout d’abord 7zip, une fois installer exécuter le (7zip file manager) et placer vous dans le répertoire contenant le .exe d’Adobe reader. Faite un clique droit sur ce dernier et choisissez « ouvrir a l’intérieur » vous arrivez sur ça :\r\n\r\n![](/media/markdownx/cddb899b-8be3-480d-bef7-8707eb0a1398.png)\r\n\r\nsélectionnez tout et cliquez sur le bouton « extraire » , il faut extraire tout le contenu dans un dossier puis ouvrez le dossier, et créez un fichier « install.bat » dans lequel vous aller entrer la commande d’exécution du .msi\r\n\r\ndans mon cas je met : msiexec /i AcroRead.msi /quiet /passive /norestart\r\nenregistrez et quittez l’editeur du .bat, selectionner tous les fichier extrait du .exe plus le .bat puis faite un clic droit> envoyer vers> dossier compressé\r\n\r\nvous obtenez un zip que vous pouvez renommer comme bon vous semble.\r\nPour finir créez le paquet de déploiement :\r\n\r\n	Nom :Adobe reader\r\n	Description : Adobe reader Déploiement\r\n	Conditions :Adobe reader DC\r\n	Commande : install.bat>nul\r\n	Fichier : le fichier zip que vous avez crée\r\n	Paquet public : non\r\n	Ignorer les horaires de déploiement : oui\r\n\r\nce qui donne :\r\n\r\n\r\n![](/media/markdownx/6180db1d-8521-4d2d-a542-e5c2d7aa29e3.png)', 19, 1, 0, NULL);
INSERT INTO `article_article` (`id`, `image`, `date`, `publish`, `titre`, `resume`, `content`, `categorie_id`, `personne_id`, `is_pdf`, `lien_pdf`) VALUES
(3, 'image_article/wapt-sans-tis_0_hSZpGPm.png', '2016-04-16', 1, 'Télédéploiement d’application avec WAPT', 'Documentation de mise en place de la version 1.3.5 de WAPT', '<center><strong>Cette documentation est une trace d\'un travail réalisé en stage de BTS et n\'est pas maintenue à jour, pour la documentation actuelle cliquez <a href=\"https://www.wapt.fr/fr/doc/\">ici</a></strong></center>\r\n\r\n# Introduction\r\nNous allons voir comment mettre en place la solution de télédéploiement d’application nommé wapt qui dispose d’un support sur Nantes en effet il est produit par Tis. je l’ai mis en place a la Communauté de Commune des Olonnes. ce système client serveur est effet très performant même si il a certain inconvénient, en effet l’administration ce fait via une console installé sur un client appelé « poste d’administration » il est cependant très sécurisé car les paquet et les connexions au serveurs sont sécurisées grâce à un jeu de clés asymétrique ce qui empêche l’installation de paquets non signé.\r\n\r\n# Installation du serveur sous windows\r\nTout d’abord télécharger l’exécutable à cette adresse : http://wapt.tranquil.it/wapt/releases/latest/waptserversetup.exe\r\n\r\n* Choisissez votre langue puis cliquer sur « OK »\r\n* Cliquez sur suivant sur l’écran d’accueil :\r\n\r\n\r\n![](/media/markdownx/209477b0-4457-40ab-bddd-0ffa16e81278.png)\r\n\r\n\r\nAccepter la licence :\r\n\r\n\r\n![](/media/markdownx/0b098d11-f7fb-4cad-93ee-76ad97c212fd.png)\r\n\r\nIndiquer le répertoire qui contiendra les fichiers de wapt :\r\n\r\n\r\n![](/media/markdownx/740e7ab5-9251-4e84-9d23-665f92e09fcd.png)\r\n\r\nChoisissez parmi les taches supplémentaires de l’assistant celles que vous voulez utiliser (j’ai laissé les choix par défaut car vc++2008 venait d’être installé et je ne voulait pas de l’icône sur le serveur) :\r\n\r\n\r\n![](/media/markdownx/01324d4e-c04a-4e09-b256-46f0fc8244ee.png)\r\n\r\n\r\net enfin lancez l’installation :\r\n\r\n\r\n![](/media/markdownx/41236a54-e5aa-49e2-864b-276adcf33057.png)\r\n\r\n\r\nLancez maintenant la configuration post-installation :\r\n\r\n\r\n![](/media/markdownx/ca541766-d9c9-40ec-a4a4-4a456f89dc09.png)\r\n\r\n# Configuration du serveur windows\r\nCommencez par tester votre nom DNS (cliquer sur « Tester le nom DNS ») il vous indiquera ainsi votre ip (pour vérifier) il vous indiquera également vos urls, cliquer ensuite sur « suivant » :\r\n\r\n\r\n![](/media/markdownx/f7bf2163-eba5-4c58-8dfc-90350a6a1398.png)\r\n\r\nIndiquez les mots de passe WAPT puis cliquez sur suivant :\r\n\r\n![](/media/markdownx/689d0b68-9c36-4e3a-ae24-4651eebf7929.png)\r\n\r\n\r\npour créer la clé de chiffrement remplissez les différents champs et cliquez sur « Créer la paire de clés » puis sur suivant :\r\n\r\n\r\n![](/media/markdownx/9dc5e374-ffa1-42c1-a11d-c7addee2eedc.png)\r\n\r\nIndiquer ensuite le préfixe qui serra indiqué sur vos paquets et cliquez sur « suivant » :\r\n\r\n\r\n![](/media/markdownx/eb4f87b2-8ab6-49ed-a541-7be2cd236e96.png)\r\n\r\nvérifiez que les paramètres vous conviennent et lancez le serveur en cliquant sur « Démarrer le serveur WAPT avec ces paramètres » :\r\n\r\n\r\n![](/media/markdownx/df6c27f2-12fd-43d8-9d5f-51d50e1c4c32.png)\r\n\r\nPour finir vérifiez que la bonne clé est utilisée et créer un installeur personnalisé :\r\n\r\n\r\n![](/media/markdownx/78b8e682-ad60-400c-8b53-1f9bb2064cea.png)\r\n\r\nvous trouverez l’agent à l’adresse indiqué par le pop-up :\r\n\r\n![](/media/markdownx/874b2f9e-6e33-4f44-a028-51be29bb783d.png)\r\n\r\ncliquez sur « ok » puis sur « suivant » la dernière fenêtre de l’assistant s’affiche vous pouvez cliquer sur « Fin » :\r\n\r\n\r\n![](/media/markdownx/4b1419a7-ea60-461b-a0bd-5cbc829e1dbf.png)\r\n\r\n<u>Attention :</u> si vous n’êtes pas administrateur de la machine vous devez prendre le contrôle total des dossiers suivant avant d’ouvrir pour la première fois la console : c:\\private (dossier contenant les clés pour signer les paquets) c:\\wapt (dossier contenant wapt) il vous faut créer et vous assurer du contrôle total de c:\\waptdev (dossier qui permet l’édition de paquet)\r\n\r\nVotre Serveur est enfin installé vous pouvez y accéder en lançant la « console wapt »\r\n\r\n![](/media/markdownx/aaf32f80-f73a-47bb-8406-57ec07ec8caa.png)\r\n\r\nvous voila sur l’écran de gestion du serveur :\r\n\r\n\r\n![](/media/markdownx/6ea4fbb5-d377-43fc-ab83-758fb4304984.png)\r\n\r\n# Installation et configuration du serveur sous linux\r\n\r\nLinux utilisé : Debian\r\n\r\nattention :\r\n\r\n* Les ports 80, 443 et 8080 sont utilisés par le serveur WAPT et doivent être disponibles\r\n* Le port 8088 est utilisé sur les postes clients par l’agent WAPT et doit être disponible\r\n* N’oubliez pas de consulter ce lien montrant les problèmes courants lors de l’installation de WAPT\r\n* Le paquet tis-waptserver n’est actuellement pas signé, il y aura donc une alerte lors de l’installation.\r\n\r\nCommencez par mettre à jour votre serveur :\r\n\r\n	root@WAPTLinux:~# apt-get update && apt-get upgrade\r\n\r\n## Installation du serveur WAPT\r\n\r\n	root@WAPTLinux:~# echo « deb http://wapt.tranquil.it/debian/ ./  » > /etc/apt/sources.list.d/wapt.list\r\n	root@WAPTLinux:~# apt-get update\r\n	root@WAPTLinux:~# apt-get install tis-waptserver tis-waptrepo tis-waptsetup\r\n\r\n## Configuration du serveur\r\nLancez la configuration avec la commande suivante :\r\n\r\n	root@WAPTLinux:~# /usr/bin/python /opt/wapt/waptserver/scripts/postconf.py\r\n\r\nune fenêtre apparaît et vous demande si vous voulez lancer la configuration placer vous sur « oui » et appuyer sur « entrer »\r\n\r\n\r\n![](/media/markdownx/f3e034aa-b441-46da-b4f3-95e441138316.png)\r\n\r\nentrer ensuite le mot de passe du serveur WAPT et appuyer sur « entrer » et refaite l’opération\r\n\r\n\r\n![](/media/markdownx/d84311c0-165c-419b-b451-72f78c9df9fb.png)\r\n\r\nquand l’installeur demande de configurer apache placez vous sur « oui et appuyer sur « entrer »\r\n\r\n\r\n\r\n![](/media/markdownx/151a4113-786b-4972-9ae4-9e091e4ba992.png)\r\n\r\nindiquer ensuite le nom de domaine complet qu’aura votre serveur et appuyez sur « entrer » :\r\n\r\n\r\n![](/media/markdownx/a49c350d-8d5c-492d-9e76-2ea63259f9f5.png)\r\n\r\n\r\nune fenêtre apparaît alors et demande si on veut recharger la configuration, appuyer sur « oui »\r\n\r\n\r\n![](/media/markdownx/488fa7c2-3e51-4b76-b75f-2bd84c7bab87.png)\r\n\r\nune fenêtre apparaît ensuite nous indiquant que la postconfiguration est finie cette fenêtre nous indique par ailleur l’addresse de notre serveur et le protocole (http/https) : ce qui me donne\r\n\r\nhttps://waptserver.conservatoire.local\r\n\r\n\r\n\r\n![](/media/markdownx/ea41526e-7045-4cfc-8de5-73a44fcd53f6.png)\r\n\r\n\r\nquand vous vous rendez à cette adresse cette page doit apparaître :\r\n\r\n\r\n![](/media/markdownx/3de93872-e966-4425-be04-b81b4237389f.png)\r\n\r\n## Configuration du DNS\r\n\r\nDans votre serveur DNS (windows ici) aller dans le gestionnaire de serveur dans « rôles »> »Serveur DNS »> »DNS »> »le nom de votre serveur »> »Zones de recherche directes »> »votre nom de domaine »>clique droit dans la zone des enregistrements> Nouvel hôte (A ou AAAA)…\r\n\r\n\r\n![](/media/markdownx/ce39cd05-80ac-4d7b-93ca-15056541e551.png)\r\n\r\nremplissez les champs en fonction de votre configuration puis cliquer sur ajouter et terminé\r\n\r\n\r\n![](/media/markdownx/eaf5ea09-118d-494b-9976-973c7e7c4edb.png)\r\n\r\n#  Installation de la console de gestion\r\n<u>Attention :</u> si vous n’êtes pas administrateur de la machine vous devez prendre le contrôle total des dossiers suivant avant d’ouvrir pour la première fois la console : c:\\private (dossier contenant les clés pour signer les paquets) c:\\wapt (dossier contenant wapt) il vous faut créer et vous assurer du contrôle total de c:\\waptdev (dossier qui permet l’édition de paquet)\r\n\r\nSi vous n’avez pas installer wapt sur un serveur windows vous n’avez pas de console de gestion pour votre serveur voici comment l’installer téléchargez WAPTsetup depuis l’interface web :\r\n\r\n![](/media/markdownx/88913a48-db6d-422c-a2e1-8c9dca920b57.png)\r\n\r\nune fois téléchargé exécutez-le et choisissez la langue :\r\n\r\n\r\n![](/media/markdownx/11a0a83f-49f1-41e3-aa1d-430a94b03423.png)\r\n\r\nacceptez le contrat de licence :\r\n\r\n\r\n![](/media/markdownx/82d5380f-ea46-4089-a78b-45a318818234.png)\r\n\r\nindiquez le lieu d’installation :\r\n\r\n\r\n![](/media/markdownx/2cfad1ef-fd2f-438c-90fc-5aacc5355260.png)\r\n\r\nindiquez le dossier du menu démarrer qui sera utilisé :\r\n\r\n![](/media/markdownx/acb210cb-7bc1-45b6-bbcb-e94f9e1076d2.png)\r\n\r\ncochez les tâches supplémentaires à exécuter :\r\n\r\n\r\n![](/media/markdownx/4253a414-50b9-41f3-a686-95b39c38cf7a.png)\r\n\r\nlaissez le client détecter les infos avec les enregistrements DNS :\r\n\r\n\r\n![](/media/markdownx/92ec6574-25bd-4ee0-a185-0f43a1ee7a06.png)\r\n\r\npuis lancer l’installation :\r\n\r\n![](/media/markdownx/5ea46221-fec7-422f-85ad-39f127c9bda5.png)\r\n\r\ncliquez sur terminer quand la fenêtre de fin apparaît :\r\n\r\n![](/media/markdownx/57a8e7f4-9c77-49f6-803d-22213ea4df09.png)\r\n\r\n\r\nLancer la console en faisant un clique droit sur le logo de wapt a coté de l’horloge puis cliquez sur « Lancer la console WAPT » :\r\n\r\n![](/media/markdownx/18093929-822f-4090-b038-1aec821cc5aa.png)\r\n\r\nrenseigner vos information de connexion puis cliquer sur ok :\r\n\r\n\r\n![](/media/markdownx/12089f65-e14e-4745-9fd3-f167b3dfa2f6.png)\r\n\r\nvous êtes maintenant sur la console de wapt :\r\n\r\n\r\n![](/media/markdownx/54984adb-6bf9-4412-851b-be1cc80f9dea.png)\r\n\r\nnous allons maintenant générer des certificats allez dans « outils » puis « Créer un certificat »\r\n\r\n![](/media/markdownx/7f8f6dd1-6712-4be1-9915-ea2c5cf560ca.png)\r\n\r\nremplisser les différents champs en fonction de votre cas et cliquer sur « ok », exemple :\r\n\r\n![](/media/markdownx/3157df8c-b283-40db-b661-3dfe9ed4a6dc.png)\r\n\r\n\r\n![](/media/markdownx/3ff350da-d2b8-40ff-9f3c-6e27ac6d8ea3.png)\r\n\r\n\r\n\r\nil nous reste juste à compléter les préférences, allez dans « Outils » puis cliquez sur « Préférences » :\r\n![](/media/markdownx/3d4cb3af-45eb-4548-a1e6-a4fbc7a7178e.png)\r\n\r\n\r\nremplissez le champs « Préfixe des paquets WAPT » en fonction de votre cas :\r\n\r\n![](/media/markdownx/559dc3b4-86aa-43c9-8818-cd52d591d902.png)\r\n\r\n# Installation du client\r\nSur une machine situé dans votre domaine accéder à l’adresse que vous a indiqué l’installeur en fin de configuration (ici Windows mais pareil pour linux avec la console) :\r\n\r\n\r\n![](/media/markdownx/72405adf-3f03-49ac-aff8-0f7dbcae2cd7.png)\r\n\r\nj’accède donc à l’adresse https://waptserver.conservatoire.local dans mon cas.\r\nTélécharger l’agent en cliquant sur « Agent WAPT (pour le déploiement sur les postes utilisateurs) » :\r\n\r\n![](/media/markdownx/3d82fc61-48c9-4c6e-9068-47c8a7dd0d67.png)\r\n\r\nSélectionnez la langue et cliquez sur « OK » :\r\n\r\n\r\n![](/media/markdownx/8105c04d-9397-45e4-8812-4ff5b4f99a7d.png)\r\n\r\ncliquer sur suivant après l’affichage de la fenêtre d’accueil de l’installeur :\r\n\r\n![](/media/markdownx/bc30050c-1a38-4d32-9a1d-6ad2039a1075.png)\r\n\r\n\r\nacceptez la licence et cliquez sur « suivant » :\r\n\r\n![](/media/markdownx/4709cb01-8c89-4d95-ac5d-5da337e87cd2.png)\r\n\r\nindiquer le répertoire ou serra installé l’agent puis cliquez sur « suivant » :\r\n\r\n\r\n![](/media/markdownx/812f5ddf-ee16-4968-9596-121ffef033a2.png)\r\n\r\nindiquer le nom du dossier dans le menu démarrer :\r\n\r\n\r\n![](/media/markdownx/5f9e1efa-ede7-47f6-99b5-4d5d09e262b7.png)\r\n\r\nsélectionner les tâches de l’installeur :\r\n\r\n![](/media/markdownx/b3dbbd82-607c-4823-8d9e-f17d9facf6d4.png)\r\n\r\nindiquez les URL du serveur puis cliquer sur « suivant » (si ceux indiqué par défaut) :\r\n\r\n![](/media/markdownx/24ba41c3-3bc6-4e20-bba1-b6cf57376065.png)\r\n\r\nCliquez sur « installez » :\r\n\r\n![](/media/markdownx/dfcb759c-45f9-4cfc-ab26-c5f97ab5bf76.png)\r\n\r\ncliquer sur « terminer » quand cette fenêtre apparaît :\r\n\r\n\r\n![](/media/markdownx/018e1943-030f-49ee-8f1d-2dc4c405fc77.png)\r\n\r\n# Utilisation du Serveur\r\n## Importer des paquet depuis internet\r\nDans la console allez dans l’onglet « Dépôt privé » puis cliquer sur « importer depuis internet »\r\n\r\n![](/media/markdownx/4d3b04f3-9e41-488a-b954-7720e82a383d.png)\r\n\r\nsélectionnez les paquets qui vous intéresse et cliquez sur « Importer »\r\n\r\n\r\n![](/media/markdownx/87c70bc9-8721-49e0-baa2-500bd11f651d.png)\r\n\r\ncliquez sur Oui quand la fenêtre suivante apparaîtra.\r\n\r\n## Créer ses propres paquets\r\n\r\nUne des grandes forces de WAPT est de pouvoir soi-même créer des paquets logiciels, pour une utilisation interne ou bien même pour les partager avec la communauté.\r\n### Configurer le client WAPT pour faire du développement de paquet\r\n\r\nSource: https://dev.tranquil.it/scenari/guide_creation_paquet/co/scen_creation_paquet_wapt_les_commandes_2.html\r\n\r\nIl vous faut modifier le fichier C:\\wapt\\wapt-get.ini comme ceci (adapté a vous bien-sur; il est possible que vous n’ayez pas le droit de modifications dans ce cas ajouter le )\r\n\r\n	[global]\r\n	waptupdate_task_period=120\r\n	apt_server=https://waptserver.conservatoire.local\r\n	repo_url=http://waptserver.conservatoire.local/wapt\r\n	use_hostpackages=1\r\n	private_key=c:\\private\\ClefDeSecu.pem\r\n	default_package_prefix=CCO\r\n	default_sources_suffix=wapt\r\n	default_sources_root=c:\\waptdev\r\n\r\nou éditer les préférences onglet  » Avancé »\r\nRechargez ensuite le service (en ligne de commande):\r\n\r\n	net stop WAPTService\r\n	net start WAPTService\r\n### Création de paquet\r\n\r\nTélécharger le logiciel que vous souhaitez packager ici on va prendre DWG viewer\r\n\r\nOuvrer ensuite une console cmd et faites (adapté a vous bien-sur) :\r\n\r\n	wapt-get make-template C:\\Users\\user\\Desktop\\creapaquet\\SetupDWGTrueView2016_FRA_64bit.sfx.exe\r\n\r\nCela vous créer un model de paquet pour l’executable du logiciel avec des paramètres par défaut, il sera situé dans le dossier : C:\\waptdev\\CCO-autodeskdownloadmanager-wapt\r\n\r\nCelui-ci contient\r\n\r\n* Un fichier texte control qui contient les informations d’identification du paquet (il contient notamment la version du paquet et les dépendances) ;\r\n* Un script python setup.py qui contient les instructions qui manipulent les fichiers propres du logiciel (nous allons y toucher) ;\r\n* Les fichiers propres du logiciel (MSI, exe, fichiers de réponse, fichiers ini…) ;\r\n* Un fichier manifest (signature numérique) permettant de sécuriser le contenu du paquet WAPT et d’identifier son auteur (nous n’y touchons pas).\r\n\r\nIl ce peut quand dans certain cas le make template ne récupère pas le numéro de version il faut alors éditer le fichier « control »\r\n\r\nsi vous voulez vous pouvez éditer le fichier setup.py pour connaitre les commandes pour installer les logiciels silencieusement je vous conseille cette page : http://wpkg.org/Category:Silent_Installers\r\n\r\nvous pouvez tuer toutes les taches en cour du programme avec killalltasks(‘nomduprogramme.exe’)\r\n### Upload du paquet wapt\r\n\r\nNous allons maintenant upload le paquet vers le dépôt privé:\r\n\r\nDans une commande cmd\r\n\r\n	wapt-get build-upload c:\\waptdev\\CCO-autodeskdownloadmanager-wapt\r\n\r\nici « CCO-autodeskdownloadmanager-wapt » est le dossier contenant tout les fichiers\r\n\r\nil faut alors que vous renseignez l’utilisateur et le mot de passe du serveur (et le mot de passe de la clée si elle en a un)\r\n\r\nvous pouvez avoir l’erreur suivante (que je n’explique pas, mais qui doit être du a un problème de communication avec le serveur) :\r\n\r\nallez dans l’onglet « Dépôt privé » de la console puis cliquer sur « importer depuis un fichier » sélectionnez ensuite le fichier non envoyer et cliquer sur « ouvrir » puis sur « yes » dans la fenêtre de confirmation.\r\n### Modifier un paquet\r\n#### Comment l’éditer\r\n\r\nDépôt privé>clique droit sur un paquet > « Editer un paquet »> ouvrez le setup.py avec idle fournit par python.\r\nAprès a vous de voir ce que vous voulez modifier dans le script par exemple pour vnc restricted il est très important d’éditer la ligne « password ».\r\nPlus généralement pour éditer la commande d’installation silencieuse chercher la ligne commençant par « run » exemple :\r\n » run(‘msiexec /l* install.log /norestart /q /I jre-%s-windows-i586.msi %s’%(version,install_options)) »\r\n\r\nje vous renvoie a ce lien pour personnaliser votre commande d’installation (http://wpkg.org/Category:Silent_Installers) ou vers les forums/éditeurs du logiciels si il a besoin d’options spéciales.\r\n\r\n#### Le mettre dans le dépôt\r\n\r\nSi vous avez édité un paquet supprimé le de votre dépôt privé (dans la console) et utilisez une de ces deux commandes :\r\n– wapt-get build-package <suivi du chemin vers le dossier du paquet>\r\nexemple : wapt-get build-package C:\\waptdev\\cco-flashplayer-wapt\r\npar contre le paquet devra être importé depuis la console (« importer depuis un fichier »)\r\n\r\n– wapt-get build-upload [options] <directory>\r\nexemple : wapt-get build-upload C:\\waptdev\\cco-flashplayer-wapt\r\nproblème : je n’ai jamais réussi a la faire marcher akors que mes réglages sont correctent\r\n## Déploiement de paquet\r\n\r\nIl existe deux moyen pour déployer un paquet : lancer l’installation en « directe » ou demander a ce que l’installation ce fasse à l’arrêt.\r\n### Affecter des paquets à la machine\r\n\r\nDans l’onglet « Inventaire » sélectionner les machines qui vous intéresse puis cliquez sur « Modifier la configuration de la machine »\r\n\r\n![](/media/markdownx/46a2776f-9ad8-4756-968f-7bde0d1dff77.png)\r\n\r\ndans la fenêtre qui apparaît vous pouvez soit sélectionner un groupe soit un paquet puis cliquer sur « Ajouter des dépendances au paquet » puis cliquer soit sur « Enregistrer » soit sur « Enregistrer et appliquer à la machine » \r\n\r\n![](/media/markdownx/d602adce-5b47-435c-b165-bbf1cea59a6c.png)\r\n\r\n### Forcer l’installation\r\n\r\nPour cela il suffit de faire un clique droit sur les machines et de choisir « Lancer l’installation des paquets » ou encore dans l’onglet « Général » d’une machine faite un clique droit sur le paquet et cliquez sur « installer/mettre à jour le paquet » pour finir au moment d’affecter les paquet choisissez « Enregistrer et appliquer à la machine »\r\n### Lancer l’installation au prochain arrêt\r\n\r\nIl n’y a qu’un seul moyen de le faire : au moment d’affecter les paquet choisissez « Enregistrer »(cf impression d’écran précédente )\r\n## Les groupes\r\n### Créer des groupes\r\n\r\nAller dans l’onglet « Groupes de paquets » cliquez sur « Nouveau groupe de paquets » indiquer un nom et une description ensuite choisissez des paquets a mettre dedans, puis, cliquez sur « Enregistrer »\r\n\r\n![](/media/markdownx/eec08433-6754-4459-88b7-4f53d2eb692f.png)\r\n\r\n### Affecter une machine à un groupe\r\n\r\nDans l’onglet « Inventaire » de la console de WAPT sélectionner les machines que vous voulez mettre dans un groupe puis faite un clique droit sur la sélection et cliquer sur « Ajouter un paquet ou un groupe de paquet »\r\n\r\n\r\n![](/media/markdownx/c7c9b013-194a-4808-bd9a-2f55b169a8fd.png)\r\n\r\n Dans la fenêtre qui apparaît cocher la cas à coté du nom du groupe auquel vous voulez affecter la machine puis cliquez sur « OK »\r\n\r\n![](/media/markdownx/b518858a-0aa1-4ae8-a39c-a4a2916cbc09.png)\r\n\r\n#  Empêcher que le système s’arrête avant la fin de l’installation\r\nWindows coupe les installation a l’arrêt du système quand elle sont trop longue pour remédier a ce problème il y a deux solutions : créer une GPO ou déployer un paquet qui le fait.\r\n\r\nPour récupérer le paquet entrer ce lien dans votre navigateur : https://userwapt:password@waptpassword.lesfourmisduweb.org/wapt\r\n\r\net télécharger le paquet nommé smp-preshutdowntimeout_0.0.2-3_all.wapt\r\n\r\nouvrez la console puis dans « Dépôt privé » cliquez sur « Importer depuis un fichier » sélectionner le paquet en cliquez sur « Ouvrir »\r\n\r\n\r\n![](/media/markdownx/85beb8ec-0b51-4845-8a2b-f8f14ea52537.png)\r\n\r\n\r\nrépondez « Yes » à la question « Are you sure you want to import … » :\r\n\r\n![](/media/markdownx/77441297-20d9-482d-83be-1bac9649d423.png)\r\n\r\n\r\n# Le Self service\r\n\r\nLe self service wapt c’est quoi ?\r\n\r\nPetit rappel. Le wapt client possède une interface web, sur http://127.0.0.1:8088\r\n\r\nOn peut y voir la liste les paquets installés et la liste des paquet disponible.\r\n\r\nOn peut aussi y voir un bouton Supprimer/Installer/Donwgrader\r\n\r\nLorsque que l’on clique dessus, wapt demande un nom d’utilisateur et un mot de passe.\r\n## Fonctionnement\r\n\r\nPar défaut, les utilisateurs membres du groupe administrateurs local de la machine ont l’autorisation d’installer ou supprimer des logicile via l’interface web wapt.\r\n\r\nPour utiliser ce system avec notre active directory, il faut simplement créer un groupe nommée « waptselfservice » dans l’AD.\r\n\r\nReste à ajouter des groupes ou des utilisateurs dans ce groupe pour les autoriser dans l’interface web self service.\r\n# Problème d’un parc non uniforme\r\n\r\nLe problème quand on met en place une solution de télédéploiement dans un parc informatique où les mises à jour se faisait a la main c’est que certain logiciel sont mal installé (même si l’installation ce passe bien en apparence et même si il fonctionne parfaitement) par exemple c’est le cas d’adobe 11 qui dans cette version utilisait des clés de registres érronées qui donnait les messages d’erreurs suivants en cas de désinstallation :\r\n\r\n	\"Error 2753.The File ‘InstallPlugin.exe’ is not marked for installation.\"\r\n\r\net\r\n\r\n	« Error 2753 : The ‘installAX64’ is not marked for installation »\r\n\r\nla solution nous viens de microsoft et sont outils « Fix it » disponible a cette adresse :\r\n\r\nhttps://support.microsoft.com/es-es/mats/program_install_and_uninstall/en-us\r\n\r\nil suffit de suivre l’assistant et de choisir le logiciel concerné.\r\n10 Fixer les routes pour les sites distants\r\n\r\nOn peut avoir des sites distant racordé au même réseau via un vpn pour cela il faut fixer les routes\r\n\r\nen éditant le fichier interfaces (nano /etc/network/interfaces)\r\n\r\net insérer les lignes suivantes :\r\n\r\n	#static route\r\n	up route add -net 192.168.6.0/24 gw 192.168.5.254 dev eth0\r\n	up route add -net 192.168.7.0/24 gw 192.168.5.254 dev eth0\r\n\r\npuis recharger la configuration :\r\n	/etc/init.d/networking restart\r\n\r\n# Plan de reprise d’activité\r\n\r\nEnvisageons le cas suivant la machine contenant la console est hors service , que faire pour que wapt continue de fonctionner ?\r\n\r\nInstaller la console comme vu dans la partie 4 sans la lancer ensuite créer le dossier « Private » et placez-y les clés privé et public de votre wapt\r\n\r\nau moment de vous connecter cliquer sur les sortes d’outils à coté de l’url du serveur :\r\n\r\n![](/media/markdownx/f994c5be-eaac-4e5b-9577-1b88ad673783.png)\r\n\r\net remplissez les informations suivantes : le préfixe , le lieu ou ce trouve le jeu de clé , et cliquez sur « vérifier ».\r\n\r\n![](/media/markdownx/2d476279-30e0-4cf6-9d99-024f0823ba7e.png)\r\n\r\n# Source\r\n\r\n* http://dev.tranquil.it/scenari/guide_admin/co/wapt_server_installation_windows.html\r\n* http://dev.tranquil.it/scenari/guide_admin/co/wapt_server_installation_debian.html\r\n* http://reseaux85.fr/index.php?title=Cr%C3%A9ation_de_paquets_WAPT\r\n* http://wpkg.org/Category:Silent_Installers\r\n* https://dev.tranquil.it/scenari/guide_creation_paquet/co/scen_creation_paquet_wapt_exe_3.html\r\n* https://wiki.lesfourmisduweb.org/index.php/R%C3%A9plication_sur_des_D%C3%A9p%C3%B4ts_distant\r\n* https://wiki.lesfourmisduweb.org/index.php/Cr%C3%A9ation_paquet_wapt\r\n* http://dev.tranquil.it/wiki/WAPT_-_Roadmap#WAPT_ensuite\r\n* https://dev.tranquil.it/wiki/WAPT_-_Utilisation_avanc%C3%A9e_en_ligne_de_commande\r\n\r\n# Wapt Aujourd’hui\r\n\r\nCette documentation à été faite lors de mon stage de seconde année de BTS SIO SISR, depuis wapt à énormément changé ce qui fais que cette documentation ne couvre plus tout les point je vous invite donc à allez voir la nouvelle documentation de Tranquil IT System qui est enrichi régulièrement : https://www.wapt.fr/fr/doc/.\r\n\r\nPour toutes les question que vous pourriez vous posez concernant la dernière version de wapt Tranquil IT System a un forum : https://forum.tranquil.it/\r\n\r\nPour toutes autres sources dans le projet WAPT vous pouvez vous référer à ces liens :\r\n\r\n* https://www.wapt.fr/fr/about.html\r\n* https://www.wapt.fr/fr/', 20, 1, 0, NULL),
(4, 'image_article/indssdsdssdex.png', '2015-04-16', 1, 'Mettre un place un filtrage avec PfSense', 'Cette documentation réalisé lors de mon stage de seconde années visent montrer une démarche de mise en place de pfsense', '<center><strong>Documentation non maintenue</strong></center>\r\n# Introduction\r\n\r\nVoici le contexte : un wifi est proposé à des personnes gratuitement mais le problème est que la seule « sécurité » est une personne qui donne la clé wpa2 mais les personnes connecté au wi-fi peuvent aller sur des sites pornographique, des sites de piratages … mais sachant que la connexions appartient à la Communauté de Commune des Olonnes elle est considéré comme responsable. Les objectifs sont donc :\r\n\r\n* une solution complètement transparente pour les utilisateurs\r\n* un filtrage d’URL via catégories (pornographie, téléchargement illégal)\r\n* un filtrage protocolaire (P2P…)\r\n* anti-virus de flux\r\n* logs\r\n* en option, outil d’analyse\r\n\r\nPfSense est un routeur / pare-feu open source basé sur FreeBSD. Il a pour particularité de gérer nativement les VLAN (802.1q). Et dispose de très nombreuses fonctionnalités tels que faire VPN ou portail captif. Dans cette documentation nous verons comment mettre en place un proxy avec PfSense.\r\n\r\n# Installation et configuration de PfSense\r\n## Prérequis\r\n\r\nUn serveur ou ordinateur disposant d’au moins deux cartes réseaux. Une pour l’interface LAN (du côté du réseau local) et l’autre pour l’interface WAN (du côté du réseau relié à internet). Vous pouvez bien entendu utiliser un serveur virtuel. Mais cela pourra poser des problèmes au niveau des interfaces.\r\n\r\nLe clavier français est en azerty, vous aurez donc besoin de connaître l’emplacement des touches du clavier anglais (qwerty) car lors de l’installation et la configuration via la ligne de commande le clavier est en qwerty. Et malheureusement même en modifiant les options lors de l’installation le clavier azerty n’est pas pris en compte.\r\n## Installation de PfSense\r\n\r\nLorsque le premier écran apparaît choisissez la première options (« Boot Multi User [enter] ») (appuyez soit sur entrer soit attendez la fin du compte à rebour)\r\n\r\n\r\n![](/media/markdownx/690249d0-43ec-48e9-b79a-7f7643fb1402.png)\r\n\r\nLors du menu suivant presser la touche « I »\r\n\r\n![](/media/markdownx/3bf75d44-bdbf-4b8c-a13e-8084eb49ee6c.png)\r\n\r\nsélectionner « Accept these Settings » (en appuyant sur la flèche du bas ) et appuyez sur entrer :\r\n\r\n![](/media/markdownx/23936297-82d3-41e0-9873-fbfa81f23bb1.png)\r\n\r\nselectionner ensuite en appuyant sur la flèche du bas « Quick/Easy Install »\r\n\r\n![](/media/markdownx/4ab3f335-fcde-40cb-b621-7d7235fa4c56.png)\r\n\r\naccepter le fait que l’installation par défaut va supprimer complètement la configuration actuelle(a ne pas faire si vous avez déjà des donnés sur la machine.\r\n\r\n![](/media/markdownx/57769bb5-9916-4b4a-b5e5-d36f7cee40cc.png)\r\n\r\nChoisissez le noyau standard (« Standard Kernel ») et appuyez sur « entrer »\r\n\r\n![](/media/markdownx/3c40d0d9-560a-4b4f-af03-922c79054895.png)\r\n\r\nà l’écran suivant appuyer sur reboot pour continuer l’installation et éjecter le liveCD\r\n\r\n![](/media/markdownx/6bc4ebd4-e786-45bc-ba49-1f42a217f105.png)\r\n\r\nDans mon cas je n’ai pas de Vlan à mettre en place donc je répond « n » à la question « Do you want to set up VLANs now [y|n] ? « \r\n\r\n![](/media/markdownx/e6810637-abdc-4446-94bc-d3d5f43700ca.png)\r\n\r\nrépondez « a » pour le nom de l’interface « WAN »\r\n\r\n![](/media/markdownx/edc189ca-c946-4f2e-af09-809e3e37eeb2.png)\r\n\r\nune fois que l’interface wan est connecté appuyez sur « entrer »\r\n\r\n![](/media/markdownx/0c1dc2d9-dd89-492e-ad19-510dcfc6f8e4.png)\r\n\r\nrépéter l’opération pour l’interface LAN. répondez « y » à la question « Do you want to proceed [y|n]? »\r\n\r\n![](/media/markdownx/68e4c489-af04-43f7-b6d5-9b63dbecb084.png)\r\n\r\n## Configuration des IP\r\n\r\nDans le menu suivant choisissez l’option n°2 pour configurer les interfaces\r\n\r\n![](/media/markdownx/314ae46b-173c-437e-91dc-ff855edf2a6d.png)\r\n\r\nnous allons respecter le plan réseaux suivant :\r\n\r\n	lan : 172.16.10.254\r\n	wan : dhcp du réseau de test en 10.0.0.0/24 a fixer au moment du passage en production\r\n\r\n![](/media/markdownx/b4cb3d8d-4e45-4da1-9dc5-cbe1740a8350.png)\r\n\r\n## Configuration de l’interface web\r\n\r\nAccéder à l’interface web en entrant l’ip de la patte lan dans un navigateur pour moi 172.16.10.254 vous arrivez sur la page de connexion de PfSense dont les identifiants sont :\r\n\r\n	login : admin\r\n	mot de passe : pfsense\r\n\r\n![](/media/markdownx/84744450-62c8-48d3-a942-fa749424ff30.png)\r\n\r\nVous voici maintenant dans PfSense pensez a changer de mot de passe (System>User Manager)\r\n\r\n# Installation et configuration d’un proxy squidguard\r\n\r\nNous allons mettre en place le proxy pour empècher que les utilisateur aille sur des sites dangereux,illégaux ou inaproprié\r\n\r\n## Téléchargement du package\r\n\r\nAllez dans System > Packages > et cliquez sur l’onglet Available Packages\r\n\r\n![](/media/markdownx/58604355-bf4b-489e-80f9-124f77c22fd4.png)\r\n\r\nRecherchez dans la liste des paquets celui dont le nom est « squidGuard » et « squid »\r\net cliquez sur les petites icônes à coté de leurs description ( 1 et 2 sur l’image)\r\n\r\n![](/media/markdownx/0cc5c7d4-ec01-496f-9a04-2b6e4b69e351.png)\r\n\r\npour chacun d’entre eux confirmer que vous voulez les installer :\r\n\r\n![](/media/markdownx/fc039286-2b21-4507-b367-038b46e71426.png)\r\n\r\n## Mise en place du filtrage des URL\r\n\r\nPour filtrer les urls nous allons utiliser cette blacklist :www.shallalist.de/Downloads/shallalist.tar.gz\r\n\r\nMunis de ce lien allez dans Services>SquidGuard Proxy puis scroller vers le bas jusqu’a atteindre la partie « Blacklist Options », vous cochez la case a coté de « Blacklist » et entrer l’url de votre Blacklist au niveau du champ « Blacklist URL » et cliquez sur « save »\r\n\r\n![](/media/markdownx/aee9a5b4-ef0b-42c2-b52e-dc644b101893.png)\r\n\r\nune fois que c’est fait il faut télécharger la black list, aller dans l’onglet black list et cliquer sur Download\r\n\r\n![](/media/markdownx/b9c1e04b-f6e6-46b8-acb9-01c41cbe9830.png)\r\n\r\ncette procédure n’est pas automatique avec pfsense\r\n\r\npar défaut le proxy bloque toutes les catégories d’url nous allons donc lui spécifier qu’elles catégorie d’url nous ne voulons pas (dans mon cas je veux interdire la pornographie et les sites de piratage.\r\n\r\nNous allons donc commencer par autoriser toutes les catégories puis nous interdirons les catégories que nous ne voulons pas :\r\n\r\nétapes un, accèder aux catégories , aller dans l’onglet « Common ACL » et cliquez sur « Target Rules List »\r\n\r\n![](/media/markdownx/f1d6ecc7-33f1-4925-a11a-e89216d4b38d.png)\r\n\r\ntout en bas de la liste de la liste vous avez la catégories « Default access [all] » qui est a deny passez le à « allow »\r\n\r\n![](/media/markdownx/2164cf6d-aa95-44ba-b3d7-d48a00de8291.png)\r\n\r\nnous allons appliquer les modifications :\r\n\r\nallez en bas de la page et cliquer sur « save » et sur « save » quand la page des common ACL cliquez sur Save en bas de page.Ensuite passez dans l’onglet « General sttings » et désactiver puis réactiver le proxy.\r\n\r\n# Mise en place du filtrage par protocole\r\n\r\nPour cela nous allons mettre en place le paquet snort. Allez dans System > Package > Available Packages, choisir le package Snort dans la liste et l’installer (voir squid si vous ne savez plus)\r\n\r\n### Configuration initiale de Snort et mise à jour\r\n\r\nIl est nécessaire de télécharger un jeu de règles afin de pouvoir ensuite les appliquer au filtrage de votre contenu. Vous disposez de plusieurs jeux de règles qui sont soit payants, soit gratuits. Puis allez dans Services > Snort > Global Settings.\r\n\r\n\r\n![](/media/markdownx/4649e170-13bf-4fe2-a01f-d1b930612843.png)\r\n\r\nInstaller les jeux de règles (Snort Community et Emerging Threat), ces jeux de règles sont moins stables que les règles fournies par Snort et produisent beaucoup plus de faux positifs. Il faut bien prendre soin, dans un premier temps, de ne pas bloquer les trames identifiées par le filtre.\r\n\r\nDonc dans la page Global Settings choisissez « Install Snort Community rules » et « Install emerging Threats rules » (la case du haut pour ETOpen. Pour finir scroller vers le bas et cliquer sur « Save »\r\n\r\nAllez ensuite dans l’onglet Updates et cliquez sur « Update » :\r\n\r\n![](/media/markdownx/73568dba-7df3-4fba-92ae-f31ce921d8c4.png)\r\n\r\n\r\n### Configuration d’une l’interface\r\n\r\nAfin de pouvoir utiliser vos règles, il est nécessaire de les appliquer sur une interface de votre firewall. Il s’agit assez souvent de l’interface WAN, mais certaines règles peuvent aussi s’appliquer à d’autres interfaces (LAN, DMZ, …).\r\n\r\nallez dans Services > Snort > Snort Interfaces et cliquez sur le petit « + »\r\n\r\n![](/media/markdownx/ccf78179-7dd4-4fb8-b07c-91c1214800a2.png)\r\n\r\ndans le premier onglet qui s’ouvre et changer les réglages comme suis :\r\n\r\n![](/media/markdownx/5261f44c-de55-496e-8535-be86836d97cc.png)\r\n\r\nEnsuite scroller vers le bas et cliquer sur le bouton « Save » et éditer le paquet en appuyant sur le « e » haut bout de la descritpion\r\nallez dans l’onglet « LAN Categories » puis sélectionner dans dans la liste les règles que vous voulez appliquer cliquez ensuite sur Save en haut de la liste\r\n\r\n![](/media/markdownx/d95cd678-60ba-44cb-bcf3-a80a0dfedffb.png)\r\n\r\n### définition de la pass list\r\n\r\nDans snort il éxiste une pass list qui permet de ne jamais bloquer certaines ip le problèmes si on veut bloquer le peer to peer c’est que l’hote du réseau réalisant le téléchargement ne peut être bloqué car il figure dans la pass list nous allons donc créer une pass list qui ne contient pas le réseau où l’on veut bloquer le peer to peer. Dans Snort (Services>Snort) allez dans l’onglet « Pass Lists » et cliquez sur l’icône avec un « + ».\r\n\r\n![](/media/markdownx/4efb0365-9beb-4116-8467-e8981b2691a0.png)\r\n\r\nDonnez un nom à votre pass lists et une description et décochez la case en face de Local Network comme ceci\r\n\r\n![](/media/markdownx/9f09c4f5-faf7-4bc5-a80e-8fd673822ef7.png)\r\n\r\nNous allons maintenant l’affecter, éditez l’interface (icône avec dans l’onglet « Snort Interfaces » dans la partie « Choose the networks Snort should inspect and whitelist » au niveau de « Pass list » choisissez votre liste puis cliquez sur Save et redémarrer l’interface à coter de ENABLE dans le menu des interfaces.\r\n\r\n![](/media/markdownx/a8155fe3-7851-4afa-a219-4364827e2a3c.png)\r\n\r\n### La Suppress List\r\n\r\nDans snort on bloque tous ce qui génère une alerte, or snort a tendance a faire parfois des alertes pas très grave (exemple une trame http non exploitable par qui que ce soit) ce qui génère donc des faux positifs pour éviter cela il existe une liste ou l’on peut ajouter ce qui a généré une alerte.\r\nAllez dans l’onglet alerte de snort vous pouvez alors ajouter l’alerte en elle même [A] ou quand elle ce produit avec une certaine ip en destination[B]/source[C] :\r\n\r\n![](/media/markdownx/39859a9b-debb-4bcc-a3cf-179d6dfe735d.png)\r\n\r\nSi vous n’avez pas déjà de suppress list la list est ajouté a l’interface, je vous conseil de la redémarrer dans l’onglet interface.\r\nVoici une liste qui limitera les faux positifs :\r\n	#(http_inspect) NO CONTENT-LENGTH OR TRANSFER-ENCODING IN HTTP RESPONSE\r\n	suppress gen_id 120, sig_id 3\r\n	\r\n	#(http_inspect) HTTP RESPONSE GZIP DECOMPRESSION FAILED\r\n	suppress gen_id 120, sig_id 6\r\n	\r\n	#(http_inspect) INVALID CONTENT-LENGTH OR CHUNK SIZE\r\n	suppress gen_id 120, sig_id 8\r\n	\r\n	#(http_inspect) DOUBLE DECODING ATTACK\r\n	suppress gen_id 119, sig_id 2\r\n	\r\n	#(http_inspect) JAVASCRIPT WHITESPACES EXCEEDS MAX ALLOWED\r\n	suppress gen_id 120, sig_id 10\r\n	\r\n	#(http_inspect) IIS UNICODE CODEPOINT ENCODING\r\n	suppress gen_id 119, sig_id 7\r\n	\r\n	#(http_inspect) JAVASCRIPT OBFUSCATION LEVELS EXCEEDS 1\r\n	suppress gen_id 120, sig_id 9\r\n	\r\n	#(spp_ssl) Invalid Client HELLO after Server HELLO Detected\r\n	suppress gen_id 137, sig_id 1\r\n	\r\n	#(http_inspect) BARE BYTE UNICODE ENCODING\r\n	suppress gen_id 119, sig_id 4\r\n	\r\n	#(http_inspect) UNKNOWN METHOD\r\n	suppress gen_id 119, sig_id 31\r\n	\r\n	#(http_inspect) MULTIPLE ENCODINGS WITHIN JAVASCRIPT OBFUSCATED DATA\r\n	suppress gen_id 120, sig_id 11\r\n	\r\n	#(http_inspect) HTTP RESPONSE HAS UTF CHARSET WHICH FAILED TO NORMALIZE\r\n	suppress gen_id 120, sig_id 4\r\n	\r\n	#FILE-IMAGE Directshow GIF logical width overflow attempt\r\n	suppress gen_id 1, sig_id 27525\r\n	\r\n	#(http_inspect) UNESCAPED SPACE IN HTTP URI\r\n	suppress gen_id 119, sig_id 33\r\n	\r\n	#PROTOCOL-DNS TMG Firewall Client long host entry exploit attempt\r\n	suppress gen_id 3, sig_id 19187\r\n\r\nPour la rajouter allez dans l’onglet Suppress cliquer sur le petit icône avec un « e » ajouter le texte précédant dans la partie « Apply suppression or filters to rules. Valid keywords are ‘suppress’, ‘event_filter’ and ‘rate_filter’. » puis cliquer sur « Save » et redémarrer l’interface\r\n\r\n## Mise en place d’un antivirus de flux\r\n\r\nL’installation de Squid 3 dans PfSense embarque maintenant l’antivirus ClamAV. Si vous aviez installé HAVP, supprimez le, il ne sert plus. Maintenant Squid communique avec CalmAV par l’intermédiaire de C-ICAP. L’installation du paquet Squid, installe tous ce qu’il faut. Donc rajouter squid3 via le menu d’installation des paquets.\r\nPremière étape modifier la configuration dans l’onglet:\r\nService > Proxy server > Antivirus\r\n\r\nAu niveau de « Enable Manual Configuration  » passer la combo box à « enabled »\r\n\r\n![](/media/markdownx/f10823e1-fc97-4686-a413-e07f5b9b89bc.png)\r\n\r\nEnsuite cliquez sur « load Advanced » pour charger les fichier de configuration.\r\n\r\nAdvanced options > squidclamav.conf changer la directive redirect (vous l’éditez en cliquant sur « Advanced »\r\nexemple :\r\n \r\n\r\n![](/media/markdownx/e1ce3b64-456e-4ecd-a202-ded601e1013e.png)\r\n\r\nPour vérifier que l’url est bon, entrer l’url dans votre navigateur :\r\n\r\n![](/media/markdownx/db1c085e-130a-453f-92c4-6168ff5c48d9.png)\r\n\r\nEnsuite Advanced options > c-icap.conf ajouter à la fin (si ce n’est pas déjà le cas\r\n« Service squid_clamav squidclamav.so  »\r\n\r\nEt pour finir toujours dans cette configuration, supprimer la ligne\r\nManager:Apassword@ldap.chtsanti.net?o=chtsanti?mermberUid?(&(objectClass=posixGroup)(cn=%s))\r\n\r\net cliquer sur Save en bas de page\r\n\r\nEnsuite nous allons modifier la configuration de squid en éditant le fichier /usr/local/pkg/squid_antivirus.inc pour cela aller dans Diagnostics>Edit File et suivez le chemin avec « Browse » vous devez obtenir ceci :\r\n\r\n![](/media/markdownx/83bc24a4-3291-4de4-bef8-21cc87e2e92b.png)\r\n\r\nEn effet la communication se fait en IPv6 et ne fonctionne pas, il faut basculer en IPv4. Pour cela remplacer:\r\n	\r\n	icap_service service_avi_req reqmod_precache icap://[:::1]:1344 /squidclamav bypass=off\r\n	adaptation_access service_avi_req allow all\r\n	icap_service service_avi_resp respmod_precache icap://[:::1]:1344/squidclamav bypass=on\r\n	adaptation_access service_avi_resp allow all\r\n	\r\npar\r\n\r\n	icap_service service_avi_req reqmod_precache icap://localhost:1344 /squidclamav bypass=off\r\n	adaptation_access service_avi_req allow all\r\n	icap_service service_avi_resp respmod_precache icap://localhost:1344/squidclamav bypass=on\r\n	adaptation_access service_avi_resp allow all\r\n\r\npuis cliquer sur Save a coté de « Browse » pour finir retournez dans Services> »Squid Proxy Server » onglet Antivirus.et désactiver puis réactivé l’antivirus.', 21, 1, 0, NULL),
(5, 'image_article/index_pUn9mmT.png', '2016-04-16', 1, 'Stage de première année BTS SIO SISR', 'Article résumant mon stage de première année', '# Description générale\r\n\r\nCe projet de mise en place d’un outils de supervision réseaux a eu lieu durant ma première période de stage\r\n(du lundi 1er Juin au vendredi 27 Juin) au lycée Notre Dame à Fontenay le Comte.\r\n\r\n# Présentation du projet\r\n\r\nLe but de ce projet était de mettre en place un système de surveillance du réseaux afin de prévoir le remplacement des cartouches d’encre, de connaitre le débit sur les ports Gigabyte des commutateurs, d’avoir un système de graphique montrant les débits sur chacun des ports supervisé, d’avoir également un système d’alerte par mail, ainsi qu’une carte interactive montrant l’ensemble du réseau.\r\n# Compétences mises en oeuvre\r\n\r\n    A1.1.1 Analyse du cahier des charges d’un service à produire\r\n\r\nAnalyse de ce que devras faire FAN selon certain critère comme le type d’équipement (commutateur ou imprimante) et les lieux, le temps avant le lancement de l’alerte par mail\r\n\r\n    A1.1.3 Étude des exigences liées à la qualité attendue d’un service\r\n\r\nInventoriez toutes les imprimantes du lycée ainsi que tout les commutateurs en indiquant la salle où ils se trouvent ainsi que, pour les imprimantes, la marque et le modèle, ce renseigner sur les possibles incompatibilités avec Nagios et ce renseigner sur l’existence de plugin résolvant le problème\r\n\r\n    A1.2.2 Rédaction des spécifications techniques de la solution retenue (adaptation d’une solution existante ou réalisation d’une nouvelle solution)\r\n\r\nInstallation d’un plugin permettant d’inventorier toutes les imprimantes quelque soit leur marques ou modèles et réalisation d’une fiche contenant l’ensemble des outils nécessaire à la mise en place de FAN\r\n\r\n    A1.2.4 Détermination des tests nécessaires à la validation d’un service\r\n\r\nAjout d’une imprimante et d’un switch n’étant pas utilisé en production et simulation de problèmes permettant de tester le bon fonctionnement de FAN (enlever une cartouche d’encre de l’imprimante, éteindre le switch …)\r\n\r\n    A1.3.1 Test d’intégration et d’acceptation d’un service\r\n\r\nAjout d’une imprimante par marque présente dans le parc informatique (1 HP, 1 Canon,1 Brother,….) ainsi que d’un switch actuellement utilisé en production.documentation\r\n\r\n    A1.3.2 Définition des éléments nécessaires à la continuité d’un service\r\n\r\nCréation d’une sauvegarde de la configuration finale ainsi que la réalisation d’une documentation technique montrant comment ajouté un service ou un nouvel équipement.documentation\r\n\r\n    A5.2.4 Étude d’une technologie, d’un composant, d’un outil ou d’une méthode\r\n\r\nJe me suis documenté sur le fonctionnement du protocole SNMP ainsi que sur le fonctionnement de Nagios puis de FAN.\r\n# Résumé du projet\r\n\r\nJ’ai tout d’abord tenté de mettre en place la supervision avec nagios centreon et nagvis installé séparément mais j’ai très vite eu des problème de compatibilité de certain plugin avec la dernière version de nagios j’ai donc de me rabattre sur FAN  qui contient nagios centreon et nagvis j’ai ensuite du créer une commande adapté aux imprimantes pour pouvoir récupérer leurs données et j’ai du faire l’inventaire de tout le matériel à superviser sur les différents bâtiments du lycée (étendue sur un quartier complet).\r\n\r\nCe stage m’a permit d’apprendre à modifier une solution libre pour l’adapter a mes besoins, ainsi qu’a m’organiser pour être le plus efficaces et autonome possible.\r\n#Étapes de mise en place du système\r\n\r\n1. Installation de CentOS\r\n  - Ouverture des ports 22(ssh),80(http),443(https)\r\n  - Mise en place d’outils de prise en main a distance (OpenSSH)\r\n2. Téléchargement et installation de FAN\r\n3. Changements des mots de passe par défaut de Nagios, Centreon, et , de Nagvis\r\n4. Ajout des commutateur et  des imprimantes\r\n    - Utilisation d’une convention de nommage désignant le lieux ou la fonction de l’appareil\r\n    - Configuration des services pour surveiller les équipements\r\n    - Exportation de la Configuration sous nagios\r\n5. Création de la carte sous nagvis\r\n - ajout des services avec des icônes changeant d’état si le service ne fonctionne plus correctement\r\n6. Sauvegarde de la configuration de FAN\r\n    - test de redéploiement\r\n\r\n# Annexes\r\n\r\n- Carte Nagvis finie :\r\n\r\n![](/media/markdownx/0a04483e-d2a6-40fe-88f8-2c0a05cad753.png)\r\n\r\n- Ce qui es visible concernant une imprimante dans Nagvis :\r\n\r\n![](/media/markdownx/0b77890a-ed05-4222-a457-c2e8704acb71.png)\r\n\r\n- visualisation du trafic sur un lien entre deux appareil sous Nagvis :\r\n\r\n![](/media/markdownx/22614d3a-d51b-490f-b2c8-7b42d5b4fbb8.png)\r\n\r\n- Une partie des services crée sous Centreon :\r\n\r\n![](/media/markdownx/7c672ef1-4471-4b35-a88f-25836759f995.png)\r\n\r\n-  Graphique d’une imprimante sous Centreon :\r\n\r\n![](/media/markdownx/704af53e-1d6d-4537-b090-a681eef9ec0f.png)\r\n\r\n- Détails d’un équipement sous Nagios :\r\n\r\n![](/media/markdownx/6f0b08aa-b338-42f5-acf5-b55e946875fd.png)', 22, 1, 0, ''),
(6, 'image_article/dee323e6eba7db17729e6f8dc50dee8e.pearlsquare.jpg', '2016-04-16', 1, 'Configuration de Nagvis [PDF]', 'Documentation PDF de la configuration de Nagvis', '', 23, 1, 1, 'article_pdf/nagvis-DOC.pdf'),
(7, 'image_article/Nagios-Logo.jpg', '2016-04-16', 1, 'Configuration de FAN [PDF]', 'Documentation PDF de la configuration de FAN', '', 24, 1, 1, 'article_pdf/FAN-DOC.pdf'),
(8, 'image_article/logo_gsb.png', '2016-04-16', 1, 'GSB - Présentation de l’organisation', 'Documentation PDF de présentation de GSB', '', 26, 1, 1, 'article_pdf/0-GSB-Organisation.pdf'),
(9, 'image_article/logo_gsb_Oy8Liij.png', '2016-04-16', 1, 'GSB - Mise en place des vlans Utilisateurs', 'Documentation PDF du cahier des charges des vlans utilisateurs', '', 27, 1, 1, 'article_pdf/1-SISR-VLAN-utilisateurs.pdf'),
(10, 'image_article/logo_gsb_7rOdLvt.png', '2016-04-16', 1, 'Environement de Production', 'Document PDF du cahier des charges de la mise en place de l\'environement de production', '', 28, 1, 1, 'article_pdf/2-SISR-EnvPreProd.pdf'),
(11, 'image_article/logo_gsb_VS8E9ip.png', '2016-04-17', 1, 'GSB - Mise en place du DHCP', 'Document PDF du cahier des charges de la mise en place du DHCP', '', 29, 1, 1, 'article_pdf/3-SISR-DHCP.pdf'),
(12, 'image_article/logo_gsb_Acbs4yi.png', '2016-04-17', 1, 'GSB - Système de sauvegarde', 'Document PDF du cahier des charges de la mise en place du système de sauvegarde', '', 30, 1, 1, 'article_pdf/4-SISR-Backup.pdf'),
(13, 'image_article/logo_gsb_uwbGJIE.png', '2016-04-17', 1, 'GSB - Contrôleur de domaine', 'Document PDF du cahier des charges de la mise en place du contrôleur de domaine', '', 31, 1, 1, 'article_pdf/6-SISR-AD.pdf'),
(14, 'image_article/logo_gsb_ZsY70DP.png', '2016-04-17', 1, 'GSB - Serveur de mail', 'Document PDF du cahier des charges de la mise en place du serveur de mail', '', 32, 1, 1, 'article_pdf/7-SISR-mail.pdf'),
(15, 'image_article/logo_gsb_YSE1xbv.png', '2016-04-17', 1, 'GSB - DMZ', 'Document PDF du cahier des charges de la mise en place de la DMZ', '', 33, 1, 1, 'article_pdf/8-SISR-DMZ.pdf'),
(16, 'image_article/logo_gsb_QfpGH8E.png', '2016-04-17', 1, 'CR - Mise en place de Radius dans le réseau GSB', 'Documentation PDF de la mise en place de radius dans le réseau GSB', '', 35, 1, 1, 'article_pdf/Compte-rendu-Radius-GSB.pdf'),
(17, 'image_article/logo_gsb_ZuuVuU2.png', '2016-04-17', 1, 'CR - Mise en place d\'un serveur HaProxy', 'Document PDF du compte-rendu de la mise en place d\'un serveur HaProxy', '', 36, 1, 1, 'article_pdf/documentation-HaProxy.pdf'),
(18, 'image_article/logo_gsb_1hYArr3.png', '2016-04-17', 1, 'CR - Mise en place du réseau de GSB', 'Document PDF du compte-rendu de la mise en place du réseau de GSB', '', 37, 1, 1, 'article_pdf/Compte-rendu-Mise-en-place-réseau.pdf'),
(19, 'image_article/logo_gsb_LgG3sfr.png', '2016-04-17', 1, 'CR - Mise en place d’un DHCP windows 2008 r2', 'Document PDF du compte-rendu de la mise en place d’un DHCP windows 2008 r2', '', 38, 1, 1, 'article_pdf/Mise-en-place-SRV-DHCP.pdf'),
(20, 'image_article/logo_gsb_iZYeie8.png', '2016-04-17', 1, 'CR - Full Backup automatisé du serveur de production', 'Document PDF du compte-rendu de la mise en place Full Backup automatisé du serveur de production', '', 39, 1, 1, 'article_pdf/Compte-Rendu-Sauvegarde-automatisé.pdf'),
(21, 'image_article/logo_gsb_FICEyBb.png', '2016-04-17', 1, 'CR - Automatisation de la création des utilisateurs avec Powershell', 'Document PDF du compte-rendu de la mise en place de l\'automatisation de la création des utilisateurs avec Powershell', '', 40, 1, 1, 'article_pdf/Compte-Rendu_PowerShell.pdf'),
(22, 'image_article/logo_gsb_22Zpq8n.png', '2016-04-17', 1, 'CR - Mise en place d’une méssagerie', 'Document PDF du compte-rendu de la mise en place dune messagerie', '', 41, 1, 1, 'article_pdf/Compte-Rendu-SISR-mail-Legrand-Julien-Brice-Harismendy.pdf');
INSERT INTO `article_article` (`id`, `image`, `date`, `publish`, `titre`, `resume`, `content`, `categorie_id`, `personne_id`, `is_pdf`, `lien_pdf`) VALUES
(23, 'image_article/logo_gsb_0RNLIfi.png', '2016-04-17', 1, 'CR - Mise en place d\'une DMZ', 'Document PDF du compte-rendu de la mise en place d\'une DMZ', '', 42, 1, 1, 'article_pdf/Compte-Rendu-mise-en-place-dune-DMZ.pdf'),
(24, '', '2016-04-17', 1, 'Cahiers des Charges du projet Rabanov', 'Document PDF du cahier des charges Cahiers des charges du projet Rabanov', '', 43, 1, 1, 'article_pdf/Projet-Rabanov.pdf'),
(25, '', '2016-04-17', 1, 'Gestion des tâches', 'Gestion des tâches dans le projet Rabanov', 'Lors du projet Rabanov nous avons du organiser les équipe (développement et réseaux) pour pouvoir finir le projet dans les temps, pour réaliser ce Gantt nous avons utilisé le logiciel mindview 4, voici le fichier du projet : ici\r\n\r\npour réaliser ce fichier ce fichier nous avons décortiqué toutes les taches du cahier des charges en les plaçant dans une mindmap que nous avons transformé en diagramme de Gantt grâce à mindview.\r\n\r\nquelques images :\r\n\r\n\r\n\r\n![](/media/markdownx/1c6abce5-4e36-4b10-9c0f-b87279d93b00.png)\r\n\r\n\r\n\r\n\r\n![](/media/markdownx/2aadd6f6-21c6-4b64-ad9f-f4c9a2bed01c.png)', 44, 1, 0, ''),
(26, '', '2016-04-17', 1, 'Rabanov - Mise en place du serveur web de Rabanov', 'documentation PDF de la mise en place du serveur web de Rabanov', '', 46, 1, 1, 'article_pdf/Mise-en-place-du-serveur-web.pdf'),
(27, '', '2016-04-17', 1, 'Rabanov - Mise en place d\'un point d\'accès WiFi', 'Document PDF de la mise en place d\'un point d\'accès WiFi', '', 47, 1, 1, 'article_pdf/2-Installation-du-Wi-Fi.pdf'),
(28, '', '2016-04-17', 1, 'Rabanov - Mise en place d’un plan de reprise d’activité', 'Documentation PDF de la mise en place d’un plan de reprise d’activité', '', 48, 1, 1, 'article_pdf/Mise-en-place-du-pra.pdf'),
(29, '', '2016-04-17', 1, 'Rabanov - Mise en place d’un cluster Web', 'Document PDF de la mise en place d\'un cluster web', '', 49, 1, 1, 'article_pdf/Mise-en-place-du-cluster-web-.pdf'),
(30, '', '2016-04-17', 1, 'Rabanov - Documentation des développeurs', 'Document PDF de la Documentation des développeurs', '', 50, 1, 1, 'article_pdf/Documentation-développeur.pdf'),
(31, '', '2016-04-17', 1, 'Rabanov - Installation et configuration d’un serveur windows 2008r2', 'Document PDF  d\'installation et configuration d’un serveur windows 2008r2', '', 51, 1, 1, 'article_pdf/1-Installation-du-Windows-Server-2008.pdf'),
(32, '', '2016-04-17', 1, 'Rabanov - Sécurisation des mot de passe via GPO', 'Document PDF de sécurisation des mot de passe via GPO', '', 52, 1, 1, 'article_pdf/3-Sécurité.pdf'),
(33, '', '2016-04-17', 1, 'Rabanov - Sécurisation de l’attaque DHCP Starvation', 'document PDF mise en place de la sécurisation de l’attaque DHCP Starvation', '', 54, 1, 1, 'article_pdf/CR-Attaque-DHCP_Starvation.pdf'),
(34, '', '2016-04-17', 1, 'Rabanov - Mise en place du switch (commutateur)', 'Document PDF de la Documention de la mise en place du switch', '', 55, 1, 1, 'article_pdf/CR-Configuration-Switch.pdf'),
(35, '', '2016-04-17', 1, 'Rabanov - Mise en place du routeur', 'Document PDF de la documentation de la mise en place du routeur chez Rabanov', '', 56, 1, 1, 'article_pdf/CR-Configuration-Routeur.pdf'),
(36, 'image_article/lan-switch-icon-25.jpg.png', '2016-04-17', 1, 'Mise en procution d\'un switch', 'Documentation de la mise en production d\'un switch', 'Voici la documentation que j’ai réalisé qui explique comment mettre en production un nouveau switch avec le minimum de sécurité. Dans cette documentation j’explique également comment mettre en place un serveur TFTP pour sauvegarder les configurations et comment faire remonter les logs pour centraliser la gestion des log, ainsi que la configuration d’un VLAN d’administration et différents test et autre petite configuration :', 57, 1, 1, 'article_pdf/Mise-en-production-dun-switch.pdf'),
(37, 'image_article/images.png', '2016-04-17', 1, 'Sécurisation du protocole Spanning-Tree', 'documentation d\'une sécurisation du protocole STP', 'Le protocole Spanning-Tree est un protocole réseau activé par défaut sur les switchs Cisco il sert à éviter les redondances réseau mais n’est pas sécurisé par défaut, voici une documentation que j’ai réalisé pour résoudre ce problème :', 58, 1, 1, 'article_pdf/STP-Spanning-tree.pdf'),
(38, 'image_article/QoS.jpg', '2016-04-17', 1, 'Qualité de service et voix sur IP', 'documentation de mise en place de la QOS et voix sur IP', 'Voici une documentation que j’ai réalisé montrant comment installer un réseau de téléphone IP puis comment mettre en place la priorité sur le réseau pour certain flux et ainsi permettre de maintenir une certaine fluidité dans les conversations :', 59, 1, 1, 'article_pdf/ToIP-VoIP.pdf'),
(39, 'image_article/radius.png', '2016-04-17', 1, 'Mise en place et configuration de Radius', 'documentation de mise en place et configuration de radius', 'Radius permet de ce connecter a un réseau de manière dynamique, en effet il permet de synchroniser un serveur active directory et des point d’accès wi-fi et ainsi permettre aux utilisateurs de ce connecter avec leurs identifiants windows, on peut également leur affecter des vlans dynamiquement :', 60, 1, 1, 'article_pdf/Compte-rendu-Radius.pdf'),
(40, 'image_article/logo-centreon-1.gif', '2016-04-17', 1, 'La Supervision réseau avec Centreon', 'documentation de la mise en place de la supervision réseau avec centreon', 'La supervision réseau permet de connaitre l’état de consommation de consommable pour une imprimante, l’utilisation des composants d’un serveur et ainsi on peut prévoir l’achat de consommable (cartouche d’encre, papier, … ) et l’ajout/le remplacement de composant. La supervision permet également de recevoir des alertes automatisé lorsqu’un appareil tombe en panne ou commence à manquer de consommable. voici la documentation que j’ai réalisé concernant la supervision avec Centreon :', 61, 1, 1, 'article_pdf/Supervision-Compte_Rendu.pdf'),
(41, 'image_article/index.jpeg', '2016-04-17', 1, 'Sécurisation des VLAN', 'documentation de sécurisation des VLAN', 'L’un des principaux avantages des commutateurs est le vlan, mais comme tout dans un réseau il faut le sécuriser sinon des risques d’attaque existe. Voici la documentation que j’ai réalisé concernant la sécurisation des VLAN et plus particulièrement éviter qu’ils passent en mode Trunk et permettent à un attaquant de récupérer des données confidentielles :', 62, 1, 1, 'article_pdf/Compte-rendu-VLAN.pdf'),
(42, 'image_article/indssdsdssdex_D1AGjVp.png', '2016-04-17', 1, 'Proxy et Firewall avec PfSense', 'documentation de mise en place d\'un proxy et d\'un firewall sous pfsense', 'Un pare-feu est un logiciel et/ou un matériel permettant de définir une politique de sécurité basée sur les flux réseau, en les autorisant ou en les bloquant. Lorsqu’un proxy est utilisé, il fait l’intermédiaire entre le client et le serveur et il assure la journalisation des requêtes (logging) la sécurité du réseau local le filtrage (blacklist de site), une accélération de la navigation et l’anonymat.Voici la documentation que j’ai réalisé montrant comment mettre en place un Pare-Feu et un Proxy sur PfSense :', 63, 1, 1, 'article_pdf/Proxy-Firewall-DOC-Harismendy.pdf'),
(43, 'image_article/indssdsdssdex_QGVuTIG.png', '2016-04-17', 1, 'Mise en place d’un IDS (Snort) avec PfSense Mise en place d’un IDS (Snort) avec PfSense', 'documentation de mise en place de Snort sous pfsense', 'Un IDS (Intrusion Detection System) est un mécanisme destiné à repérer des activités anormales ou suspectes sur la cible analysée (un réseau ou un hôte). Il permet ainsi d’avoir une connaissance sur les tentatives réussies comme échouées des intrusions. il y en a trois types : les NIDS,HIDS,IDS. Voici la documentation que j’ai réalisé a propos de snort :', 64, 1, 1, 'article_pdf/Compte-Rendu_IDS-HarismendyBrice.pdf'),
(44, 'image_article/52641ba2.png', '2017-04-17', 1, 'Générateur de données universelles (partie1)', 'rapport du premier projet encadré de licence pro Logiciels Libres', '# Explications\r\n\r\nLors de ma formation en licence professionnelle logiciel libre nous avons eu comme projet tutoré de réaliser un générateur de données universelle permettant de créer des données de test en les générant aléatoirement ou via des dictionnaires ou encore via des formules.\r\n\r\nJ’ai réalisé ce projet avec Alban Baumard, Corentin Couvry et Antoine Legoubé.\r\n\r\npour voir ce qui est concrètement généré voici un exemple de génération :\r\n\r\n# La génération\r\n## Le fichier de Paramètre\r\n\r\nnous allons utiliser ce fichier de paramétrage :\r\n\r\n	<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n	<Generateur>\r\n		  <Table>\r\n			  <Champs>\r\n				  <Donnee Type=\"Dictionnaire\" NomColonne=\"Prenoms\" ModeGeneration=\"unique\"/>\r\n				  <Donnee Type=\"Dictionnaire\" NomColonne=\"noms\" ModeGeneration=\"uniforme\"/>\r\n				  <Donnee Type=\"Numerique\" NomColonne=\"Age\" Min=\"15\" Max=\"130\" ModeGeneration=\"uniforme\" Null=\"6%\" Unite=\"ans\"/>\r\n				  <Donnee Type=\"Numerique\" NomColonne=\"Poids\" NbDecimale=\"1\" Min=\"35.1\" Max=\"300.9\" ModeGeneration=\"uniforme\" Null=\"52\"/>\r\n				  <Donnee Type=\"Numerique\" NomColonne=\"Taille\" NbDecimale=\"2\" Min=\"1.01\" Max=\"2.40\" ModeGeneration=\"uniforme\" Null=\"6%\"/>\r\n				  <Donnee Type=\"Numerique\" NomColonne=\"CodeSexe\" NomPerso=\"sexe\" Min=\"1\" Max=\"2\" ModeGeneration=\"uniforme\" codage=\"1;Homme;2;Femme\"/>\r\n				  <Donnee Type=\"Dictionnaire\" NomColonne=\"villes\" ModeGeneration=\"uniforme\"/>\r\n				  <Donnee Type=\"Numerique\" NomColonne=\"Temperature\" NomPerso=\"Celsius\" NbDecimale=\"2\" Min=\"0.00\" Max=\"100\" ModeGeneration=\"uniforme\"/>\r\n				  <Donnee Type=\"Formule\" NomColonne=\"Fahrenheit\" Formule= \"Celsius 1.8 + 32\" />\r\n				  <Donnee Type=\"IMC\" NomColonne=\"IMC\" calcul=\"poids/(taille^2)\"/>\r\n			  </Champs>\r\n			  <Parametre>\r\n				  <Sortie  XML=\"True\" CSV=\"True\"/>\r\n				  <Nbligne valeur=\"1000\"/>\r\n				  <NomTable nom=\"DonneesGenerales\"/>\r\n				  <Seed valeur=\"123\" />\r\n			  </Parametre>\r\n		  </Table>\r\n		  <Table>\r\n			  <Champs>\r\n				  <Donnee Type=\"Dictionnaire\" NomColonne=\"Prenoms\" ModeGeneration=\"unique\"/>\r\n				  <Donnee Type=\"Dictionnaire\" NomColonne=\"noms\" ModeGeneration=\"uniforme\"/>\r\n				  <Donnee Type=\"Numerique\" NomColonne=\"Age\" Min=\"15\" Max=\"130\" ModeGeneration=\"uniforme\" Null=\"6%\"/>\r\n			  </Champs>\r\n			  <Parametre>\r\n				  <Sortie CSV=\"True\" SQL=\"True\"/>\r\n				  <Nbligne valeur=\"60000\"/>\r\n				  <NomTable nom=\"Personne\"/>\r\n				  <Seed valeur=\"123\" />\r\n			  </Parametre>\r\n		  </Table>\r\n	</Generateur>\r\n\r\n\r\nRemarques :\r\n1. On utilise la même seed du coup on a les mêmes générations pour les champs nom prénom et âge.\r\n2. Nous aurons 4 fichier en sortie et un rapport de génération.\r\n\r\n## Les résultats de la génération\r\n\r\nvoici le rapport de génération :\r\n\r\n	Table n°1\r\n	==================================================\r\n	Prenoms : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	==================================================\r\n	noms : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	==================================================\r\n	Age : \r\n	Les données sont exprimer en ans\r\n	Le nombre de Valeur null est de : 60 \r\n	Le pourcentage de valeur null est de : 6 % \r\n	La valeur minimale est de : 15\r\n	La valeur maximale est de : 130\r\n	La valeur moyenne est de : 75.11\r\n	==================================================\r\n	Poids : \r\n	Le nombre de Valeur null est de : 52 \r\n	Le pourcentage de valeur null est de : 5.2 % \r\n	La valeur minimale est de : 35.1\r\n	La valeur maximale est de : 300.7\r\n	La valeur moyenne est de : 169.89\r\n	==================================================\r\n	Taille : \r\n	Le nombre de Valeur null est de : 60 \r\n	Le pourcentage de valeur null est de : 6 % \r\n	La valeur minimale est de : 1.01\r\n	La valeur maximale est de : 2.39\r\n	La valeur moyenne est de : 1.70\r\n	==================================================\r\n	sexe : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	Le nombre de \"2\" est de : 470 soit 47 % \r\n	Le nombre de \"1\" est de : 530 soit 53 % \r\n	==================================================\r\n	villes : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	==================================================\r\n	Celsius : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	La valeur minimale est de : 0.09\r\n	La valeur maximale est de : 99.87\r\n	La valeur moyenne est de : 50.64\r\n	==================================================\r\n	Fahrenheit : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	La valeur minimale est de : 32.162\r\n	La valeur maximale est de : 211.766\r\n	La valeur moyenne est de : 123.14\r\n	==================================================\r\n	IMC : \r\n	Le nombre de Valeur null est de : 112 \r\n	Le pourcentage de valeur null est de : 11.2 % \r\n	La valeur minimale est de : 7.3233983490394\r\n	La valeur maximale est de : 276.73757474757\r\n	La valeur moyenne est de : 71.26\r\n	==================================================\r\n	Données Générales : \r\n	La seed de génération est : 123 \r\n	==================================================\r\n	Table n°2\r\n	==================================================\r\n	Prenoms : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	==================================================\r\n	noms : \r\n	Le nombre de Valeur null est de : 0 \r\n	Le pourcentage de valeur null est de : 0 % \r\n	==================================================\r\n	Age : \r\n	Le nombre de Valeur null est de : 3600 \r\n	Le pourcentage de valeur null est de : 6 % \r\n	La valeur minimale est de : 15\r\n	La valeur maximale est de : 130\r\n	La valeur moyenne est de : 72.22\r\n	==================================================\r\n	Données Générales : \r\n	La seed de génération est : 123 \r\n	=================================================\r\n\r\n# L’interface Web\r\n\r\nPersonnellement en plus du générateur de données j’ai crée une interface web qui permettrais de créer un fichier xml et de retourner des fichiers générés.\r\nJe m’explique, l’utilisateur remplie les champs qui l’intéresse sur l’interface web, puis cette dernière en fonction des entrée utilisateur génère un fichier XML qu’elle utilise en paramètre de generer.php, et pour finir l’utilisateur enregistre les fichiers sur ça machine.\r\n\r\nPour le moment l’interface ne permet que de saisir les informations il faut maintenant que j’ajoute le PHP chargé de générer le XML et d’exécuter le générateur. Cependant elle réagit dynamiquement au choix de l’utilisateur, en plus d’être responsive design et XHTML valide.\r\n\r\nvoici l’interface dans sont état actuel : interfaceweb\r\n\r\n\r\nvoici notre rapport de projet :', 65, 1, 1, 'article_pdf/Rapport-fin-de-projet-générateur-de-données-universel.pdf'),
(45, 'image_article/52641ba2_zo1orjo.png', '2016-04-17', 1, 'Générateur de données universelles (partie 2)', 'documentation de la partie 2 du générateur de données universelles', '# Explications\r\n\r\nCe projet est la suite d’un projet réalisé en début d’année que vous pourrez trouver ici la suite du projet a été réalisé par moi même, Corentin Couvry  et Geoffroy Berry. Dans cette partie nous avons amélioré le générateur réalisé dans la première partie, de plus nous avons ajouté une interface web qui  ne gène pas l’utilisation du générateur en ligne de commande. Comme tout projet de nombreuses amélioration sont possible et vous êtes libre d’en réaliser en respectant la licence GPL.\r\n\r\n# Documentation\r\n\r\nNous avons créé une documentation s’adressant au développeur pour leur permettre de comprendre comment fonctionnais le générateur et comment y ajouter des éléments.\r\n\r\nvoici le rapport de fin de projet :', 66, 1, 1, 'article_pdf/Rapport_2.pdf'),
(46, '', '2015-12-09', 1, 'Créer un certificat auto-signé pour un site web', 'Documentation de création d\'un certificat auto-signé', '# Configuration de Base :\r\n\r\nPar défaut quand on créer un site web il fonctionne en HTTP c’est a dire sur le port 80 nous allons donc mettre en place un certificat auto -signé. Le problème de ce genre de certificat est qu’il n’ai pas délivré par une autorité de certification reconnue (car on ce le délivre nous-même) mais il permet quand même d’accéder au site en HTTPS c’est a dire via le port 443.\r\n\r\noutils nécessaire : 1 serveur sous Debian ou Ubuntu et une connexion internet.\r\n\r\nTout d’abord nous allons installer un serveur web, sur votre serveur entrer les commandes suivante :\r\n\r\n	apt-get install apache2 #serveur HTTP\r\n	apt-get install mysql-server#installation du serveur de base de donnée\r\n	apt-get install phpmyadmin #utilitaire de gestion graphique du serveur mysql\r\n	apt-get install php5 #installation du module php pour que le php soit compris par le serveur\r\n\r\nnous avons donc notre site web avec une page par défaut (ici une page disant « Hello World ») :\r\n\r\n\r\n![](/media/markdownx/b738772b-afd8-40be-a75e-c20b4364dbbe.png)\r\n\r\n\r\nnous pouvons voir ici le texte de la page mais aussi qu’il n’y a pas de chiffrement en effet quand un certificat est actif on voit un cadenas au début de la barre d’adresse :\r\n\r\n![](/media/markdownx/88b6beb9-184a-4fcd-bf84-2ba6ce036273.png)\r\n\r\n## Création du certificat \r\n\r\nNous commençons par générer la bi-clé RSA, qui peut être protégée par une passphrase.\r\n\r\n	cd /etc/apache2/\r\n	mkdir ssl\r\n	cd ssl\r\n	openssl genrsa -out apache.key 1024\r\n	\r\n\r\nNous générons ensuite le certificat auto-signé\r\n\r\n	openssl req -new -x509 -days 365 -key apache.key -out apache.crt	\r\n\r\n\r\n\r\nexplication de la commande :\r\n\r\n	* -x509 : génération d’un certificat autosigné, et non d’une simple requête\r\n	* -days 365 : le certificat est valable 365 jours\r\n	* -key server.key : la clé publique est extraite de la bi-clé précédente\r\n	* -out server.crt : le certificat est copié\r\n\r\nRépondez aux question posé pour la génération du certificat, exemple pour moi voila ce que j’ai mis :\r\n\r\n\r\n![](/media/markdownx/72a8eb50-f7f6-4ea8-b4d6-f009a242d0fd.png)\r\n\r\nA noter qu’il faut faire attention au champ Common Name (eg, YOUR name) : Il faut mettre le même nom que le serveur, pour mon cas GSB.com . Sinon, nous aurons un message comme quoi le nom du propriétaire du certificat et du site ne correspond pas.\r\n\r\nPour vérifier le bon usage du certificat :\r\n\r\n	openssl x509 -in apache.crt -text -noout\r\n\r\nLe résultat que j’ai pour mon certificat :\r\n\r\n\r\n![](/media/markdownx/d2493202-e154-48e4-a8e6-99e22e03ad1f.png)\r\n\r\nPour l’instant nous avons un certificat et un serveur web pourtant quand j’essaye de me connecter au serveur j’ai une erreur (« Page Web Inaccessible « ) et c’est normal, en effet on doit intégrer le certificat dans le fichier de configuration de notre site.\r\n\r\n## Configuration du site Web \r\n\r\nIci j’utiliserais le fichier de configuration par défaut. Il nous faut donc éditer le fichier de configuration par défaut de notre serveur Web et activer le module SSL.\r\n\r\nactivation du module SSL :\r\n\r\n	a2enmod ssl\r\n\r\nEditer le fichier de configuration de votre site Web en ajoutant les lignes suivantes :\r\n\r\n	nano /etc/apache2/sites-enabled/000-default.conf\r\n	<virtualhost *:443>\r\n	        ServerName serveurweb.dom\r\n	        DocumentRoot /var/www/html\r\n	        SSLEngine on\r\n	        SSLCertificateFile /etc/apache2/ssl/apache.crt\r\n	        SSLCertificateKeyFile /etc/apache2/ssl/apache.key\r\n	</virtualhost>\r\n\r\nil faut maintenant redémarrer Apache :\r\n\r\n	/etc/init.d/apache2 restart\r\n\r\n## Accès au site en HTTPs \r\n\r\nSi vous rentrer dans la barre d’url d’un navigateur « https:// » suivi de l’ip de votre serveur vous arriverez sur une page du genre :\r\n\r\n![](/media/markdownx/9198f81c-c58c-403a-ad5d-bcc888ae9341.png)\r\n\r\nCe message d’alerte est du au fait que le navigateur ne reconnait pas cette autorité de certification et on ne peut pas changer ça pour les utilisateurs qui arriveront sur votre site le seul moyen d’y remédier est d’obtenir un certificat via une autorité de certification agréé par le navigateur. Mais alors avons nous fais tout ça pour rien ? eh bien non il faut dire au  navigateur que l’on fait confiance au certificat.Dans ce tuto je vous montrerais la démarche pour chrome dans les autres navigateur elle est similaire et toute aussi intuitive.\r\n\r\n-Cliquez sur « Paramètres avancés »\r\n\r\n-puis sur « Continuer vers le site 192.168.28.22 (dangereux) » tout en bas\r\n\r\nvous avez ensuite accès a votre site en HTTPs, vous pourriez me demander légitimement pourquoi un cadenas rouge alors que plus haut je vous indiquait que le cadenas étais vert quand le chiffrement SSL fonctionnait, en faite le navigateur met un cadenas rouge car il ne reconnait pas le certificat.\r\n\r\n![](/media/markdownx/9c0c26c6-4925-4d7a-b634-9af9916413df.png)', 67, 1, 0, ''),
(47, 'image_article/indesdqdqsdx_jyXmx3r.png', '2017-06-12', 1, 'Système de gestion de parc – Mise en place de GLPI', 'documentation de mise en place de GLPI', '# Présentation\r\n\r\nDans ce tutoriel je vais expliquer comment mettre en place un serveur hébergeant un système de de gestion de parc informatique.  solution est capable de construire un inventaire de toutes les ressources de la société et de réaliser la gestion des tâches administratives et financières. Les fonctionnalités de cette solution aident les Administrateurs IT à créer une base de données regroupant des ressources techniques et de gestion, ainsi qu’un historique des actions de maintenance. La fonctionnalité de gestion d’assistance ou helpdesk fournit aux utilisateurs un service leur permettant de signaler des incidents ou de créer des demandes basées sur un actif ou non (ceci par la création d’un ticket d’assistance).\r\n\r\n# Installation des logiciels nécessaire\r\n\r\nNous allons réaliser l’installation sur un serveur debian 8.1, donc après l’avoir installé et lui avoir assigné une ip fixe (pour moi 10.0.2.15), nous pouvons commencer à installer les dépendances adéquates, nous auront besoin d’apache, de mysql, de phpmyadmin (pour gérer la base de donnée) et du module php.\r\n\r\n## installation d’apache et du module php\r\n\r\nsur le serveur avec le compte root installez apache :\r\n\r\n	apt-get install apache2\r\n\r\npuis installez le module PHP 5 qui permettra au serveur d’interpréter le langage php.\r\n\r\n	apt-get install php5\r\n\r\n## installation de mysql client/serveur et de phpmyadmin\r\n\r\ntout d’abord nous allons installer mysql client/serveur qui nous permettra de créer et d’utiliser des base de données :\r\n\r\n	apt-get install mysql-server mysql-client\r\n\r\npour gérer ces bases on peu utiliser le langage SQL mais un outils web existe il s’appelle phpmyadmin, cette fonctionnant via une page web permet de gérer nos base de données :\r\n\r\n	apt-get install phpmyadmin\r\n\r\n(<oui> et <oui> installation dans « dbconfig-common »)\r\n\r\n# Installation et configuration de GLPI\r\n\r\ntout d’abord installer les paquet correspondant à GLPI :\r\n\r\n	apt-get install glpi\r\n\r\npuis modifier le fichier « config_db.php » pour y changer l’utilisateur et le mot de passe de GLPI\r\n\r\n	<?php\r\n	class DB extends DBmysql {\r\n	var $dbuser     =  \"GLPIPERSO \";\r\n	var $dbpassword=  \"M07d3p@553\";\r\n	var $dbdefault    =  \"glpi\";\r\n	} ?>\r\n\r\net voila votre glpi fonctionne vous pouvez le coupler avec un serveur active directory pour importer vos utilisateur et ainsi qu’il puisse faire des tickets.', 68, 1, 0, ''),
(48, 'image_article/sdqdqsdqdqsdqdq.png', '2016-10-19', 1, 'Créer un répertoires Web personnel pour chaque utilisateur sous Apache2 (LAMP)', 'documentation de création d\'un répertoire web par utilisateur', '# I-Contexte :\r\n\r\nOn a un serveur où ce côtoient plusieurs développeur et ou chacun d’entre eux puisse avoir sont espace web public\r\n# II-Réalisation :\r\n\r\nce qui est nécessaires : apache2 sur un serveur LAMP et un répertoire Home pour chacun des utilisateurs.\r\n\r\néditez le fichier « 000-default.conf » :\r\n\r\n	nano /etc/apache2/sites-available/000-default.conf\r\n\r\nde base (si vous avez jamais édité votre configuration) vous arrivez sur ceci :\r\n\r\n	<VirtualHost *:80>\r\n		# The ServerName directive sets the request scheme, hostname and port that\r\n		# the server uses to identify itself. This is used when creating\r\n		# redirection URLs. In the context of virtual hosts, the ServerName\r\n		# specifies what hostname must appear in the request’s Host: header to\r\n		# match this virtual host. For the default virtual host (this file) this\r\n		# value is not decisive as it is used as a last resort host regardless.\r\n		# However, you must set it for any further virtual host explicitly.\r\n		ServerName boblecodeur.fr\r\n		\r\n		ServerAdmin webmaster@localhost\r\n		DocumentRoot /var/www/html/\r\n		\r\n		# Available loglevels: trace8, …, trace1, debug, info, notice, warn,\r\n		# error, crit, alert, emerg.\r\n		# It is also possible to configure the loglevel for particular\r\n		# modules, e.g.\r\n		#LogLevel info ssl:warn\r\n		\r\n		ErrorLog ${APACHE_LOG_DIR}/error.log\r\n		CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n		\r\n		# For most configuration files from conf-available/, which are\r\n		# enabled or disabled at a global level, it is possible to\r\n		# include a line for only one particular virtual host. For example the\r\n		# following line enables the CGI configuration for this host only\r\n		# after it has been globally disabled with « a2disconf ».\r\n		#Include conf-available/serve-cgi-bin.conf\r\n		\r\n		# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\r\n	\r\n	</VirtualHost>\r\n	\r\npréparation :\r\nL’utilisateur doit créer un répertoire dans sont Home pour mettre ses fichier web.:\r\n\r\n	mkdir public_html\r\n\r\net vous devez activer le mode rewrite d’apache :\r\n\r\n	a2enmod rewrite\r\n\r\net redémarrer apache2 :\r\n\r\n	service apache2 restart\r\n\r\nce que nous allons faire c’est créez un allias pour chacun des utilisateurs de ce type :\r\n\r\nlias /User /home/UserHome/public_html\r\n\r\nexemple :\r\n\r\n	Alias /bharismendy /home/bharismendy/public_html\r\n\r\non indique ensuite l’emplacement des fichiers :\r\n\r\n	Options Indexes FollowSymLinks MultiViews\r\n	AllowOverride All\r\n	Require all granted\r\n\r\nexemple :\r\n\r\n    Options Indexes FollowSymLinks MultiViews\r\n    AllowOverride All\r\n    Require all granted\r\n\r\nce qui nous donne au final :\r\n\r\n	<VirtualHost *:80>\r\n		# The ServerName directive sets the request scheme, hostname and port that\r\n		# the server uses to identify itself. This is used when creating\r\n		# redirection URLs. In the context of virtual hosts, the ServerName\r\n		# specifies what hostname must appear in the request’s Host: header to\r\n		# match this virtual host. For the default virtual host (this file) this\r\n		# value is not decisive as it is used as a last resort host regardless.\r\n		# However, you must set it for any further virtual host explicitly.\r\n		ServerName mydomain.com\r\n		\r\n		ServerAdmin webmaster@localhost\r\n		DocumentRoot /var/www/html\r\n		\r\n		# Available loglevels: trace8, …, trace1, debug, info, notice, warn,\r\n		# error, crit, alert, emerg.\r\n		# It is also possible to configure the loglevel for particular\r\n		# modules, e.g.\r\n		#LogLevel info ssl:warn\r\n		\r\n		ErrorLog ${APACHE_LOG_DIR}/error.log\r\n		CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n		# For most configuration files from conf-available/, which are\r\n		# enabled or disabled at a global level, it is possible to\r\n		# include a line for only one particular virtual host. For example the\r\n		# following line enables the CGI configuration for this host only\r\n		# after it has been globally disabled with « a2disconf ».\r\n		#Include conf-available/serve-cgi-bin.conf\r\n		\r\n		#creation des repertoires perso\r\n		Alias /bharismendy /home/bharismendy/public_html\r\n		Options Indexes FollowSymLinks MultiViews\r\n		AllowOverride All\r\n		Require all granted\r\n		# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\r\n	</VirtualHost>\r\n\r\nMaintenant il faut redémarrer le serveur Web :\r\n\r\n	service apache2 restart\r\n\r\nil aura accès a ses page web via un navigateur en entrant : nomdedomaine.tld/NomUtilisateur\r\n\r\nici selon l’exemple ça donne : mydomain.com/bharismendy\r\n\r\nIl suffit de recommencer autant de fois que nécessaire.', 69, 1, 0, ''),
(49, 'image_article/sfsdfsdfsdfsdfsdfsdfsdfsdfsdfsfsd.png', '2016-10-19', 1, 'Faire fonctionner GitLab sur un serveur Apache', 'documentation de mise en place de gitlab sous apache', '# I-Pourquoi ?\r\n\r\nLorsque l’on a un site web on peut souhaiter ajouter des services à ce dernier sans pour autant acheter un autre serveur, ça ce complique lorsque le service ajouter sur le site web utilise lui également sont propre service web sur le port 80 (par défaut) ce qui pose un problème de conflit. Nous allons donc configurer un service GitLab sur un serveur apache en faisant une redirection via notre apache (voir ici pour connaitre la configuration en cour)\r\n# II-Comment ?\r\n## a) Sur Gitlab\r\n\r\nTout d’abord nous allons commencer par éditer le fichier de configuration de GitLab et changer le port du GitLab sur le 8888.\r\n\r\n	 sudo vi /etc/gitlab/gitlab.rb\r\n	external_url \'gitlab.example.org:8888\'\r\n	sudo gitlab-ctl reconfigure\r\n\r\n## b) Sur apache\r\n\r\nNous allons maintenant reconfigurer le serveur apache pour que lorsqu’on demande l’accès à gitlab.exemple.org il nous redirige vers gitlab.exemple.org:8888\r\n\r\néditez le fichier « 000-default.conf » :\r\n\r\n	nano /etc/apache2/sites-available/000-default.conf\r\n\r\nensuite ajoutons la partie concernant le gitlab :\r\n\r\n	<If \"req(\'Host\') == \'gitlab.example.org\'\">\r\n	     Redirect \"/\" \"http://gitlab.example.org:8888\"\r\n	</If>\r\n	\r\nce qui au final nous donne ce fichier de configuration :\r\n\r\n	<VirtualHost *:80>\r\n		 # The ServerName directive sets the request scheme, hostname and port that\r\n		 # the server uses to identify itself. This is used when creating\r\n		 # redirection URLs. In the context of virtual hosts, the ServerName\r\n		 # specifies what hostname must appear in the request\'s Host: header to\r\n		 # match this virtual host. For the default virtual host (this file) this\r\n		 # value is not decisive as it is used as a last resort host regardless.\r\n		 # However, you must set it for any further virtual host explicitly.\r\n		 ServerName boblecodeur.fr\r\n		\r\n		 ServerAdmin webmaster@localhost\r\n		 DocumentRoot /var/www/html\r\n		 \r\n		 # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\r\n		 # error, crit, alert, emerg.\r\n		 # It is also possible to configure the loglevel for particular\r\n		 # modules, e.g.\r\n		 #LogLevel info ssl:warn\r\n		\r\n		 ErrorLog ${APACHE_LOG_DIR}/error.log\r\n		 CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n		 \r\n		 # For most configuration files from conf-available/, which are\r\n		 # enabled or disabled at a global level, it is possible to\r\n		 # include a line for only one particular virtual host. For example the\r\n		 # following line enables the CGI configuration for this host only\r\n		 # after it has been globally disabled with \"a2disconf\".\r\n		 #Include conf-available/serve-cgi-bin.conf\r\n		\r\n		 <If \"req(\'Host\') == \'gitlab.example.org\'\">\r\n		      Redirect \"/\" \"http://gitlab.example.org:8888\"\r\n		</If>\r\n	</VirtualHost>\r\n	# vim: syntax=apache ts=4 sw=4 sts=4 sr noet', 70, 1, 0, '');

-- --------------------------------------------------------

--
-- Table structure for table `auth_group`
--

CREATE TABLE `auth_group` (
  `id` int(11) NOT NULL,
  `name` varchar(80) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `auth_group_permissions`
--

CREATE TABLE `auth_group_permissions` (
  `id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `auth_permission`
--

CREATE TABLE `auth_permission` (
  `id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `content_type_id` int(11) NOT NULL,
  `codename` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `auth_permission`
--

INSERT INTO `auth_permission` (`id`, `name`, `content_type_id`, `codename`) VALUES
(1, 'Can add log entry', 1, 'add_logentry'),
(2, 'Can change log entry', 1, 'change_logentry'),
(3, 'Can delete log entry', 1, 'delete_logentry'),
(4, 'Can view log entry', 1, 'view_logentry'),
(5, 'Can add permission', 2, 'add_permission'),
(6, 'Can change permission', 2, 'change_permission'),
(7, 'Can delete permission', 2, 'delete_permission'),
(8, 'Can view permission', 2, 'view_permission'),
(9, 'Can add group', 3, 'add_group'),
(10, 'Can change group', 3, 'change_group'),
(11, 'Can delete group', 3, 'delete_group'),
(12, 'Can view group', 3, 'view_group'),
(13, 'Can add user', 4, 'add_user'),
(14, 'Can change user', 4, 'change_user'),
(15, 'Can delete user', 4, 'delete_user'),
(16, 'Can view user', 4, 'view_user'),
(17, 'Can add content type', 5, 'add_contenttype'),
(18, 'Can change content type', 5, 'change_contenttype'),
(19, 'Can delete content type', 5, 'delete_contenttype'),
(20, 'Can view content type', 5, 'view_contenttype'),
(21, 'Can add session', 6, 'add_session'),
(22, 'Can change session', 6, 'change_session'),
(23, 'Can delete session', 6, 'delete_session'),
(24, 'Can view session', 6, 'view_session'),
(25, 'Can add article', 7, 'add_article'),
(26, 'Can change article', 7, 'change_article'),
(27, 'Can delete article', 7, 'delete_article'),
(28, 'Can view article', 7, 'view_article'),
(29, 'Can add categorie', 8, 'add_categorie'),
(30, 'Can change categorie', 8, 'change_categorie'),
(31, 'Can delete categorie', 8, 'delete_categorie'),
(32, 'Can view categorie', 8, 'view_categorie'),
(33, 'Can add personne', 9, 'add_personne'),
(34, 'Can change personne', 9, 'change_personne'),
(35, 'Can delete personne', 9, 'delete_personne'),
(36, 'Can view personne', 9, 'view_personne'),
(37, 'Can add captcha store', 10, 'add_captchastore'),
(38, 'Can change captcha store', 10, 'change_captchastore'),
(39, 'Can delete captcha store', 10, 'delete_captchastore'),
(40, 'Can view captcha store', 10, 'view_captchastore');

-- --------------------------------------------------------

--
-- Table structure for table `auth_user`
--

CREATE TABLE `auth_user` (
  `id` int(11) NOT NULL,
  `password` varchar(128) NOT NULL,
  `last_login` datetime(6) DEFAULT NULL,
  `is_superuser` tinyint(1) NOT NULL,
  `username` varchar(150) NOT NULL,
  `first_name` varchar(30) NOT NULL,
  `last_name` varchar(150) NOT NULL,
  `email` varchar(254) NOT NULL,
  `is_staff` tinyint(1) NOT NULL,
  `is_active` tinyint(1) NOT NULL,
  `date_joined` datetime(6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `auth_user`
--

INSERT INTO `auth_user` (`id`, `password`, `last_login`, `is_superuser`, `username`, `first_name`, `last_name`, `email`, `is_staff`, `is_active`, `date_joined`) VALUES
(1, 'pbkdf2_sha256$120000$mhVfQgpTdXzJ$UxDlkcj6x+qQYh8oQlLnbjjusuWd94peHCOICcLI71Q=', '2019-04-15 07:24:27.915424', 1, 'bharismendy', 'None', 'None', 'briceharismendy@gmail.com', 1, 1, '2019-04-15 07:23:55.739259');

-- --------------------------------------------------------

--
-- Table structure for table `auth_user_groups`
--

CREATE TABLE `auth_user_groups` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `auth_user_user_permissions`
--

CREATE TABLE `auth_user_user_permissions` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `captcha_captchastore`
--

CREATE TABLE `captcha_captchastore` (
  `id` int(11) NOT NULL,
  `challenge` varchar(32) NOT NULL,
  `response` varchar(32) NOT NULL,
  `hashkey` varchar(40) NOT NULL,
  `expiration` datetime(6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `categorie_categorie`
--

CREATE TABLE `categorie_categorie` (
  `id` int(11) NOT NULL,
  `nom_categorie` varchar(100) NOT NULL,
  `has_sub` tinyint(1) NOT NULL,
  `niv_cat` int(11) DEFAULT NULL,
  `cat_sup_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `categorie_categorie`
--

INSERT INTO `categorie_categorie` (`id`, `nom_categorie`, `has_sub`, `niv_cat`, `cat_sup_id`) VALUES
(1, 'Cours', 1, 1, NULL),
(2, 'Projets personnels', 1, 1, NULL),
(3, 'BTS SIO SISR', 1, 2, 1),
(4, 'licence professionnelle Logiciels Libres', 1, 2, 1),
(5, 'Master Informatique', 0, 2, 1),
(6, 'Ce site web', 0, 2, 2),
(7, 'Java', 0, 2, 2),
(8, 'Python', 0, 2, 2),
(9, 'C#', 0, 2, 2),
(10, 'administration systèmes et réseaux', 1, 2, 2),
(11, 'Projets professionnels encadrés', 1, 3, 3),
(12, 'Projet GSB', 1, 4, 11),
(13, 'Projet Rabanov', 1, 4, 11),
(14, 'Travaux pratiques de BTS', 1, 3, 3),
(15, 'Stages', 1, 3, 3),
(16, 'Stage de première année de BTS', 1, 4, 15),
(17, 'Stage de seconde année de BTS', 1, 4, 15),
(18, 'Stage de seconde année BTS SIO SISR', 0, 5, 17),
(19, 'Télédéploiement d\'application avec UpdatEngine', 0, 5, 17),
(20, 'Télédéploiement d’application avec WAPT', 0, 5, 17),
(21, 'Mettre un place un filtrage avec PfSense', 0, 5, 17),
(22, 'Stage de première année BTS SIO SISR', 0, 5, 16),
(23, 'Configuration de Nagvis', 0, 5, 16),
(24, 'Configuration de FAN', 0, 5, 16),
(25, 'GSB - Cahiers des charges', 1, 5, 12),
(26, 'GSB - Présentation de l’organisation', 0, 6, 25),
(27, 'GSB – Mise en place des vlans Utilisateurs', 0, 6, 25),
(28, 'GSB - Environement de Production', 0, 6, 25),
(29, 'GSB - Mise en place du DHCP', 0, 6, 25),
(30, 'GSB - Système de sauvegarde', 0, 6, 25),
(31, 'GSB - Contrôleur de domaine', 0, 6, 25),
(32, 'GSB - serveur de mail', 0, 6, 25),
(33, 'GSB - DMZ', 0, 6, 25),
(34, 'GSB - Compte rendu', 1, 5, 12),
(35, 'CR - Mise en place de Radius dans le réseau GSB', 0, 6, 34),
(36, 'CR - Mise en place d’un serveur HaProxy', 0, 6, 34),
(37, 'CR - Mise en place du réseau de GSB', 0, 6, 34),
(38, 'CR - Mise en place d’un DHCP windows 2008 r2', 0, 6, 34),
(39, 'CR - Full Backup automatisé du serveur de production', 0, 6, 34),
(40, 'CR - Automatisation de la création des utilisateurs avec Powershell', 0, 6, 34),
(41, 'CR - Mise en place d’une messagerie', 0, 6, 34),
(42, 'CR - Mise en place d’une DMZ', 0, 6, 34),
(43, 'Cahiers des Charges du projet Rabanov', 0, 5, 13),
(44, 'Gestion des tâches', 0, 5, 13),
(45, 'Rabanov systèmes', 1, 5, 13),
(46, 'Mise en place du serveur web de Rabanov', 0, 6, 45),
(47, 'Rabanov - Configuration d’un point d’accès WiFi', 0, 6, 45),
(48, 'Rabanov - Mise en place d’un plan de reprise d’activité', 0, 6, 45),
(49, 'Rabanov - Mise en place d’un cluster Web', 0, 6, 45),
(50, 'Rabanov - Documentation des développeurs', 0, 6, 45),
(51, 'Rabanov - Installation et configuration d’un serveur windows 2008r2', 0, 6, 45),
(52, 'Rabanov - Sécurisation des mot de passe via GPO', 0, 6, 45),
(53, 'Rabanov réseaux', 1, 5, 13),
(54, 'Rabanov - Sécurisation de l’attaque DHCP Starvation', 0, 6, 53),
(55, 'Rabanov - Mise en place du switch', 0, 6, 53),
(56, 'Rabanov - Mise en place du routeur', 0, 6, 53),
(57, 'Mise en production d’un switch – configuration de base', 0, 4, 14),
(58, 'Sécurisation du protocole Spanning-Tree', 0, 4, 14),
(59, 'Qualité de service et voix sur IP', 0, 4, 14),
(60, 'Mise en place et configuration de Radius', 0, 4, 14),
(61, 'La Supervision réseau avec Centreon', 0, 4, 14),
(62, 'Sécurisation des VLAN', 0, 4, 14),
(63, 'Proxy et Firewall avec PfSense', 0, 4, 14),
(64, 'Mise en place d’un IDS (Snort) avec PfSense', 0, 4, 14),
(65, 'Générateur de données universelles (partie1)', 0, 3, 4),
(66, 'Générateur de données universelles (partie 2)', 0, 3, 4),
(67, 'Créer un certificat auto-signé pour un site web', 0, 3, 10),
(68, 'Système de gestion de parc – Mise en place de GLPI', 0, 3, 10),
(69, 'Créer un répertoires Web personnel pour chaque utilisateur sous Apache2 (LAMP)', 0, 3, 10),
(70, 'Faire fonctionner GitLab sur un serveur Apache', 0, 3, 10);

-- --------------------------------------------------------

--
-- Table structure for table `django_admin_log`
--

CREATE TABLE `django_admin_log` (
  `id` int(11) NOT NULL,
  `action_time` datetime(6) NOT NULL,
  `object_id` longtext,
  `object_repr` varchar(200) NOT NULL,
  `action_flag` smallint(5) UNSIGNED NOT NULL,
  `change_message` longtext NOT NULL,
  `content_type_id` int(11) DEFAULT NULL,
  `user_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `django_content_type`
--

CREATE TABLE `django_content_type` (
  `id` int(11) NOT NULL,
  `app_label` varchar(100) NOT NULL,
  `model` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `django_content_type`
--

INSERT INTO `django_content_type` (`id`, `app_label`, `model`) VALUES
(1, 'admin', 'logentry'),
(7, 'article', 'article'),
(3, 'auth', 'group'),
(2, 'auth', 'permission'),
(4, 'auth', 'user'),
(10, 'captcha', 'captchastore'),
(8, 'categorie', 'categorie'),
(5, 'contenttypes', 'contenttype'),
(6, 'sessions', 'session'),
(9, 'utilisateur', 'personne');

-- --------------------------------------------------------

--
-- Table structure for table `django_migrations`
--

CREATE TABLE `django_migrations` (
  `id` int(11) NOT NULL,
  `app` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `applied` datetime(6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `django_migrations`
--

INSERT INTO `django_migrations` (`id`, `app`, `name`, `applied`) VALUES
(1, 'contenttypes', '0001_initial', '2019-04-15 07:21:03.102701'),
(2, 'auth', '0001_initial', '2019-04-15 07:21:14.322370'),
(3, 'admin', '0001_initial', '2019-04-15 07:21:17.358419'),
(4, 'admin', '0002_logentry_remove_auto_add', '2019-04-15 07:21:17.405360'),
(5, 'admin', '0003_logentry_add_action_flag_choices', '2019-04-15 07:21:17.464142'),
(6, 'contenttypes', '0002_remove_content_type_name', '2019-04-15 07:21:18.865900'),
(7, 'auth', '0002_alter_permission_name_max_length', '2019-04-15 07:21:18.998905'),
(8, 'auth', '0003_alter_user_email_max_length', '2019-04-15 07:21:19.149264'),
(9, 'auth', '0004_alter_user_username_opts', '2019-04-15 07:21:19.197547'),
(10, 'auth', '0005_alter_user_last_login_null', '2019-04-15 07:21:19.845905'),
(11, 'auth', '0006_require_contenttypes_0002', '2019-04-15 07:21:19.893971'),
(12, 'auth', '0007_alter_validators_add_error_messages', '2019-04-15 07:21:19.960769'),
(13, 'auth', '0008_alter_user_username_max_length', '2019-04-15 07:21:20.104861'),
(14, 'auth', '0009_alter_user_last_name_max_length', '2019-04-15 07:21:20.247578'),
(15, 'captcha', '0001_initial', '2019-04-15 07:21:20.635979'),
(16, 'sessions', '0001_initial', '2019-04-15 07:21:21.392572'),
(17, 'utilisateur', '0001_initial', '2019-04-15 07:22:32.466363'),
(18, 'categorie', '0001_initial', '2019-04-15 07:22:34.047951'),
(19, 'article', '0001_initial', '2019-04-15 07:22:36.393130'),
(20, 'article', '0002_auto_20190416_1318', '2019-04-16 13:18:45.323134'),
(21, 'article', '0003_auto_20190416_1355', '2019-04-16 13:55:12.822089'),
(22, 'article', '0004_auto_20190418_0737', '2019-04-18 07:37:56.787676');

-- --------------------------------------------------------

--
-- Table structure for table `django_session`
--

CREATE TABLE `django_session` (
  `session_key` varchar(40) NOT NULL,
  `session_data` longtext NOT NULL,
  `expire_date` datetime(6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `django_session`
--

INSERT INTO `django_session` (`session_key`, `session_data`, `expire_date`) VALUES
('hw34sfxmksh5176uhgjwiausq6rovvjj', 'NjZlZjczYmI4MmQ3MGY0YTVhYzIxNThhYWJlYzY2MDgwN2RhZjBjODp7Il9hdXRoX3VzZXJfaWQiOiIxIiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoiZGphbmdvLmNvbnRyaWIuYXV0aC5iYWNrZW5kcy5Nb2RlbEJhY2tlbmQiLCJfYXV0aF91c2VyX2hhc2giOiIyYTc4Yzk5ZGNmNzlkYjVjMzQyZTIxZDExMzdmMDFjMDZkNWMyZjhkIn0=', '2019-04-29 07:39:41.864213');

-- --------------------------------------------------------

--
-- Table structure for table `utilisateur_personne`
--

CREATE TABLE `utilisateur_personne` (
  `id` int(11) NOT NULL,
  `age` int(11) NOT NULL,
  `site_web` varchar(200) NOT NULL,
  `avatar` varchar(100) DEFAULT NULL,
  `signature` longtext NOT NULL,
  `inscrit_newsletter` tinyint(1) NOT NULL,
  `user_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `utilisateur_personne`
--

INSERT INTO `utilisateur_personne` (`id`, `age`, `site_web`, `avatar`, `signature`, `inscrit_newsletter`, `user_id`) VALUES
(1, 24, 'self', 'avatars/T6VPU2CEB-U74PXCWTF-29cef3a28c66-512_yX1UXBL.jpeg', 'None', 0, 1);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `article_article`
--
ALTER TABLE `article_article`
  ADD PRIMARY KEY (`id`),
  ADD KEY `article_article_categorie_id_43e274f0_fk_categorie_categorie_id` (`categorie_id`),
  ADD KEY `article_article_personne_id_df4c3ea1_fk_utilisateur_personne_id` (`personne_id`);

--
-- Indexes for table `auth_group`
--
ALTER TABLE `auth_group`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `name` (`name`);

--
-- Indexes for table `auth_group_permissions`
--
ALTER TABLE `auth_group_permissions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` (`group_id`,`permission_id`),
  ADD KEY `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` (`permission_id`);

--
-- Indexes for table `auth_permission`
--
ALTER TABLE `auth_permission`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `auth_permission_content_type_id_codename_01ab375a_uniq` (`content_type_id`,`codename`);

--
-- Indexes for table `auth_user`
--
ALTER TABLE `auth_user`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`);

--
-- Indexes for table `auth_user_groups`
--
ALTER TABLE `auth_user_groups`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `auth_user_groups_user_id_group_id_94350c0c_uniq` (`user_id`,`group_id`),
  ADD KEY `auth_user_groups_group_id_97559544_fk_auth_group_id` (`group_id`);

--
-- Indexes for table `auth_user_user_permissions`
--
ALTER TABLE `auth_user_user_permissions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` (`user_id`,`permission_id`),
  ADD KEY `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` (`permission_id`);

--
-- Indexes for table `captcha_captchastore`
--
ALTER TABLE `captcha_captchastore`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `hashkey` (`hashkey`);

--
-- Indexes for table `categorie_categorie`
--
ALTER TABLE `categorie_categorie`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `nom_categorie` (`nom_categorie`),
  ADD KEY `categorie_categorie_cat_sup_id_ec7ba0a0_fk_categorie` (`cat_sup_id`);

--
-- Indexes for table `django_admin_log`
--
ALTER TABLE `django_admin_log`
  ADD PRIMARY KEY (`id`),
  ADD KEY `django_admin_log_content_type_id_c4bce8eb_fk_django_co` (`content_type_id`),
  ADD KEY `django_admin_log_user_id_c564eba6_fk_auth_user_id` (`user_id`);

--
-- Indexes for table `django_content_type`
--
ALTER TABLE `django_content_type`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `django_content_type_app_label_model_76bd3d3b_uniq` (`app_label`,`model`);

--
-- Indexes for table `django_migrations`
--
ALTER TABLE `django_migrations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `django_session`
--
ALTER TABLE `django_session`
  ADD PRIMARY KEY (`session_key`),
  ADD KEY `django_session_expire_date_a5c62663` (`expire_date`);

--
-- Indexes for table `utilisateur_personne`
--
ALTER TABLE `utilisateur_personne`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `user_id` (`user_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `article_article`
--
ALTER TABLE `article_article`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=50;
--
-- AUTO_INCREMENT for table `auth_group`
--
ALTER TABLE `auth_group`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `auth_group_permissions`
--
ALTER TABLE `auth_group_permissions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `auth_permission`
--
ALTER TABLE `auth_permission`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=41;
--
-- AUTO_INCREMENT for table `auth_user`
--
ALTER TABLE `auth_user`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;
--
-- AUTO_INCREMENT for table `auth_user_groups`
--
ALTER TABLE `auth_user_groups`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `auth_user_user_permissions`
--
ALTER TABLE `auth_user_user_permissions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `captcha_captchastore`
--
ALTER TABLE `captcha_captchastore`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `categorie_categorie`
--
ALTER TABLE `categorie_categorie`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=71;
--
-- AUTO_INCREMENT for table `django_admin_log`
--
ALTER TABLE `django_admin_log`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `django_content_type`
--
ALTER TABLE `django_content_type`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;
--
-- AUTO_INCREMENT for table `django_migrations`
--
ALTER TABLE `django_migrations`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;
--
-- AUTO_INCREMENT for table `utilisateur_personne`
--
ALTER TABLE `utilisateur_personne`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `article_article`
--
ALTER TABLE `article_article`
  ADD CONSTRAINT `article_article_categorie_id_43e274f0_fk_categorie_categorie_id` FOREIGN KEY (`categorie_id`) REFERENCES `categorie_categorie` (`id`),
  ADD CONSTRAINT `article_article_personne_id_df4c3ea1_fk_utilisateur_personne_id` FOREIGN KEY (`personne_id`) REFERENCES `utilisateur_personne` (`id`);

--
-- Constraints for table `auth_group_permissions`
--
ALTER TABLE `auth_group_permissions`
  ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`),
  ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`);

--
-- Constraints for table `auth_permission`
--
ALTER TABLE `auth_permission`
  ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`);

--
-- Constraints for table `auth_user_groups`
--
ALTER TABLE `auth_user_groups`
  ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`),
  ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`);

--
-- Constraints for table `auth_user_user_permissions`
--
ALTER TABLE `auth_user_user_permissions`
  ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`),
  ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`);

--
-- Constraints for table `categorie_categorie`
--
ALTER TABLE `categorie_categorie`
  ADD CONSTRAINT `categorie_categorie_cat_sup_id_ec7ba0a0_fk_categorie` FOREIGN KEY (`cat_sup_id`) REFERENCES `categorie_categorie` (`id`);

--
-- Constraints for table `django_admin_log`
--
ALTER TABLE `django_admin_log`
  ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`),
  ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`);

--
-- Constraints for table `utilisateur_personne`
--
ALTER TABLE `utilisateur_personne`
  ADD CONSTRAINT `utilisateur_personne_user_id_3f928ca3_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
